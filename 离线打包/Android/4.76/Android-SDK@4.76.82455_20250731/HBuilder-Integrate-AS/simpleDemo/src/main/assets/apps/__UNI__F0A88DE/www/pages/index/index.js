"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var Ct=Object.create;var ke=Object.defineProperty,_t=Object.defineProperties,Tt=Object.getOwnPropertyDescriptor,It=Object.getOwnPropertyDescriptors,Mt=Object.getOwnPropertyNames,je=Object.getOwnPropertySymbols,Lt=Object.getPrototypeOf,Ge=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable;var We=(e,i,n)=>i in e?ke(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n,E=(e,i)=>{for(var n in i||(i={}))Ge.call(i,n)&&We(e,n,i[n]);if(je)for(var n of je(i))At.call(i,n)&&We(e,n,i[n]);return e},de=(e,i)=>_t(e,It(i));var Ue=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports);var zt=(e,i,n,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let r of Mt(i))!Ge.call(e,r)&&r!==n&&ke(e,r,{get:()=>i[r],enumerable:!(o=Tt(i,r))||o.enumerable});return e};var ge=(e,i,n)=>(n=e!=null?Ct(Lt(e)):{},zt(i||!e||!e.__esModule?ke(n,"default",{value:e,enumerable:!0}):n,e));var j=(e,i,n)=>new Promise((o,r)=>{var s=u=>{try{m(n.next(u))}catch(g){r(g)}},a=u=>{try{m(n.throw(u))}catch(g){r(g)}},m=u=>u.done?o(u.value):Promise.resolve(u.value).then(s,a);m((n=n.apply(e,i)).next())});var Ce=Ue((vo,qe)=>{qe.exports=Vue});var _e=Ue((yo,Ye)=>{Ye.exports=uni.Pinia});var oe=ge(Ce()),Te=ge(_e());var Rt="onShow",Dt="onLoad",Ot="onReady",Pt="onUnload",Ht="onShareTimeline",Nt="onShareAppMessage";function me(e){return weex.requireModule(e)}function C(e,i,...n){uni.__log__?uni.__log__(e,i,...n):console[e].apply(console,[...n,i])}function q(e,i){return typeof e=="string"?i:e}var re=(e,i=0)=>(n,o=(0,oe.getCurrentInstance)())=>{!oe.isInSSRComponentSetup&&(0,oe.injectHook)(e,n,o)},Ze=re(Rt,3),Ie=re(Dt,2),Ve=re(Ot,2),Me=re(Pt,2),Xe=re(Ht,2),Je=re(Nt,2),F=(e,i)=>{let n=e.__vccOpts||e;for(let[o,r]of i)n[o]=r;return n},Bt=()=>uni.$uv.http.get("/mall-portal/home/content"),se=(0,Te.defineStore)({id:"global",state:()=>({systemInfo:{statusBarHeight:0,height:0,bottomSafeHeight:0},showPopList:!1,showHomeSlide:!1,showGunPop:!1,showPopListOption:!0,popList:[],homeSlideList:[],centerSlideList:[],gunPop:[]}),getters:{},actions:{getSystemInfo(){let e=uni.getSystemInfoSync();C("log","at store/modules/global.ts:26","system",e),this.systemInfo.statusBarHeight=e.statusBarHeight||0,this.systemInfo.height=e.navigationBarHeight||44,this.systemInfo.bottomSafeHeight=e.safeAreaInsets?e.safeAreaInsets.bottom:0,C("log","at store/modules/global.ts:52","systemInfo",this.systemInfo)},showAct(){this.popList.length>0&&(this.showPopList=!0,this.showPopListOption=!0),this.homeSlideList.length>0&&(this.showHomeSlide=!0),this.gunPop.length>0&&(this.showGunPop=!0)},popFixed(e){this.showPopList=e,this.showPopListOption=e},homeSlideFixed(e){this.showHomeSlide=e},gunPopFixed(e){this.showGunPop=e},setShowAct(e){return j(this,null,function*(){let i=yield Bt();if(i.code==200){let n=i.data.advertiseList||[];this.homeSlideList=n.filter(o=>{if(o.type==2)return o}),this.showHomeSlide=this.homeSlideList.length>0,C("log","at store/modules/global.ts:90","slideLIST",this.homeSlideList,this.showHomeSlide),this.popList=n.filter(o=>{if(o.type==5)return o}),this.showPopList=this.popList.length>0,C("log","at store/modules/global.ts:97","ppoppLIST",this.popList,this.showPopList),this.showPopList==!0&&this.showPopListOption==!0&&e&&e(),this.centerSlideList=n.filter(o=>{if(o.type==3)return o}),this.gunPop=n.filter(o=>{if(o.type==4)return o}),this.showGunPop=this.gunPop.length>0,C("log","at store/modules/global.ts:113","popLIST",this.gunPop,this.showGunPop)}})}}}),Et=e=>uni.$uv.http.get("/user/v1/wx/miniapp/login",e),Ft=()=>uni.$uv.http.get("/user/v1/wx/miniapp/logout"),jt=()=>uni.$uv.http.get("/user/v1/wx/miniapp/userInfo"),ae=(0,Te.defineStore)({id:"user",persist:{},state:()=>({token:"",userInfo:{id:"",icon:"",phoneNumber:"",nickName:"",signature:"",openId:"",lat:"",lng:"",settleType:"",userType:"",currentEnterpriseId:"",currentEnterpriseName:"",existEnterprise:!1,defaultLicensePlate:""}}),getters:{isLogin:e=>e.token!="",isCompany:e=>e.userInfo.userType==2&&e.userInfo.existEnterprise,plateNumber:e=>e.userInfo.defaultLicensePlate.replace(/(.{2})/,"$1\xB7")},actions:{userLogin(e,i){return j(this,null,function*(){try{let n=yield Et(e);n.code==200&&(this.token=n.data.token,this.getUserInfo(),uni.setStorageSync("token",this.token),uni.$uv.toast("\u767B\u5F55\u6210\u529F"),i&&i(n.data))}catch(n){}})},userLogOut(e){return j(this,null,function*(){(yield Ft()).code==200&&(this.clearToken(),uni.reLaunch({url:"/pages/index/index"}),e&&e())})},getUserInfo(){return j(this,null,function*(){let e=yield jt();e.code==200&&(this.userInfo=e.data,uni.setStorageSync("userInfo",JSON.stringify(this.userInfo)))})},clearToken(){this.token="",this.userInfo.id="",this.userInfo.icon="",this.userInfo.phoneNumber="",this.userInfo.nickName="",this.userInfo.signature="",this.userInfo.openId="",this.userInfo.userType=1,this.userInfo.currentEnterpriseId="",this.userInfo.currentEnterpriseName="",this.userInfo.existEnterprise=!1,this.userInfo.defaultLicensePlate="",uni.removeStorageSync("token"),uni.removeStorageSync("userInfo")},getStorageData(){let e=uni.getStorageSync("token"),i=uni.getStorageSync("userInfo");e&&(this.token=e),i&&(this.userInfo=JSON.parse(i))},setDefault(e){this.userInfo.defaultLicensePlate=e}}});var t=ge(Ce()),Q=ge(_e());var Ke,Qe,et,tt,it,nt,ot,rt,st,at,lt,ut,ct,dt,ee={};function Wt(e){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(e)}function Gt(e){return/^1([3589]\d|4[5-9]|6[1-2,4-7]|7[0-8])\d{8}$/.test(e)}function Ut(e){return/^((https|http|ftp|rtsp|mms):\/\/)(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-zA-Z_!~*'()-]+.)*([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z].[a-zA-Z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+\/?)$/.test(e)}function qt(e){return e?(Se(e)&&(e=+e),!/Invalid|NaN/.test(new Date(e).toString())):!1}function Yt(e){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)}function Se(e){return/^[\+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/.test(e)}function Zt(e){return typeof e=="string"}function Vt(e){return/^\d+$/.test(e)}function Xt(e){return/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(e)}function Jt(e){let i=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/,n=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/;return e.length===7?n.test(e):e.length===8?i.test(e):!1}function Kt(e){return/^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(e)}function Qt(e){return/^[\u4e00-\u9fa5]+$/gi.test(e)}function ei(e){return/^[a-zA-Z]*$/.test(e)}function ti(e){return/^[0-9a-zA-Z]*$/g.test(e)}function ii(e,i){return e.indexOf(i)>=0}function ni(e,i){return e>=i[0]&&e<=i[1]}function oi(e,i){return e.length>=i[0]&&e.length<=i[1]}function ri(e){return/^\d{3,4}-\d{7,8}(-\d{3,4})?$/.test(e)}function gt(e){switch(typeof e){case"undefined":return!0;case"string":if(e.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length==0)return!0;break;case"boolean":if(!e)return!0;break;case"number":if(e===0||isNaN(e))return!0;break;case"object":if(e===null||e.length===0)return!0;for(let i in e)return!1;return!0}return!1}function si(e){if(typeof e=="string")try{let i=JSON.parse(e);return!!(typeof i=="object"&&i)}catch(i){return!1}return!1}function Re(e){return typeof Array.isArray=="function"?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}function mt(e){return Object.prototype.toString.call(e)==="[object Object]"}function ai(e,i=6){return new RegExp(`^\\d{${i}}$`).test(e)}function De(e){return typeof e=="function"}function li(e){return mt(e)&&De(e.then)&&De(e.catch)}function ui(e){let i=e.split("?")[0];return/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i.test(i)}function ci(e){return/\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv|m3u8)/i.test(e)}function di(e){return e&&Object.prototype.toString.call(e)==="[object RegExp]"}var fi=Object.freeze(Object.defineProperty({__proto__:null,amount:Kt,array:Re,carNo:Jt,chinese:Qt,code:ai,contains:ii,date:qt,dateISO:Yt,digits:Vt,email:Wt,empty:gt,enOrNum:ti,func:De,idCard:Xt,image:ui,jsonString:si,landline:ri,letter:ei,mobile:Gt,number:Se,object:mt,promise:li,range:ni,rangeLength:oi,regExp:di,string:Zt,url:Ut,video:ci},Symbol.toStringTag,{value:"Module"}));function vt(e,i=15){return+parseFloat(Number(e).toPrecision(i))}function pe(e){let i=e.toString().split(/[eE]/),n=(i[0].split(".")[1]||"").length-+(i[1]||0);return n>0?n:0}function ye(e){if(e.toString().indexOf("e")===-1)return Number(e.toString().replace(".",""));let i=pe(e);return i>0?vt(Number(e)*Math.pow(10,i)):Number(e)}function Oe(e){(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn(`${e} \u8D85\u51FA\u4E86\u7CBE\u5EA6\u9650\u5236\uFF0C\u7ED3\u679C\u53EF\u80FD\u4E0D\u6B63\u786E`)}function yt(e,i){let[n,o,...r]=e,s=i(n,o);return r.forEach(a=>{s=i(s,a)}),s}function xe(...e){if(e.length>2)return yt(e,xe);let[i,n]=e,o=ye(i),r=ye(n),s=pe(i)+pe(n),a=o*r;return Oe(a),a/Math.pow(10,s)}function xt(...e){if(e.length>2)return yt(e,xt);let[i,n]=e,o=ye(i),r=ye(n);return Oe(o),Oe(r),xe(o/r,vt(Math.pow(10,pe(n)-pe(i))))}function pi(e,i){let n=Math.pow(10,i),o=xt(Math.round(Math.abs(xe(e,n))),n);return e<0&&o!==0&&(o=xe(o,-1)),o}function hi(e=0,i=0,n=0){return Math.max(e,Math.min(i,Number(n)))}function gi(e,i=!1){return Se(e)?i?`${e}px`:Number(e):/(rpx|upx)$/.test(e)?i?`${uni.upx2px(parseInt(e))}px`:Number(uni.upx2px(parseInt(e))):i?`${parseInt(e)}px`:parseInt(e)}function mi(e=30){return new Promise(i=>{setTimeout(()=>{i()},e)})}function vi(){return uni.getSystemInfoSync().platform.toLowerCase()}function yi(){return uni.getSystemInfoSync()}function xi(e,i){if(e>=0&&i>0&&i>=e){let n=i-e+1;return Math.floor(Math.random()*n+e)}return 0}function wi(e=32,i=!0,n=null){let o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(n=n||o.length,e)for(let s=0;s<e;s++)r[s]=o[0|Math.random()*n];else{let s;r[8]=r[13]=r[18]=r[23]="-",r[14]="4";for(let a=0;a<36;a++)r[a]||(s=0|Math.random()*16,r[a]=o[a==19?s&3|8:s])}return i?(r.shift(),`u${r.join("")}`):r.join("")}function Pe(e=void 0){let i=this.$parent;for(;i;)if(i.$options&&i.$options.name!==e)i=i.$parent;else return i;return!1}function bi(e,i="object"){if(gt(e)||typeof e=="object"&&i==="object"||i==="string"&&typeof e=="string")return e;if(i==="object"){e=fe(e);let o=e.split(";"),r={};for(let s=0;s<o.length;s++)if(o[s]){let a=o[s].split(":");r[fe(a[0])]=fe(a[1])}return r}let n="";for(let o in e){let r=o.replace(/([A-Z])/g,"-$1").toLowerCase();n+=`${r}:${e[o]};`}return fe(n)}function Si(e="auto",i=(n=>(n=(o=>(o=uni==null?void 0:uni.$uv)==null?void 0:o.config)())==null?void 0:n.unit)()?(n=>(n=(o=>(o=uni==null?void 0:uni.$uv)==null?void 0:o.config)())==null?void 0:n.unit)():"px"){return e=String(e),Se(e)?`${e}${i}`:e}function ce(e,i=new WeakMap){if(e===null||typeof e!="object")return e;if(i.has(e))return i.get(e);let n;if(e instanceof Date)n=new Date(e.getTime());else if(e instanceof RegExp)n=new RegExp(e);else if(e instanceof Map)n=new Map(Array.from(e,([o,r])=>[o,ce(r,i)]));else if(e instanceof Set)n=new Set(Array.from(e,o=>ce(o,i)));else if(Array.isArray(e))n=e.map(o=>ce(o,i));else if(Object.prototype.toString.call(e)==="[object Object]"){n=Object.create(Object.getPrototypeOf(e)),i.set(e,n);for(let[o,r]of Object.entries(e))n[o]=ce(r,i)}else n=Object.assign({},e);return i.set(e,n),n}function we(e={},i={}){if(e=ce(e),typeof e!="object"||e===null||typeof i!="object"||i===null)return e;let n=Array.isArray(e)?e.slice():Object.assign({},e);for(let o in i){if(!i.hasOwnProperty(o))continue;let r=i[o],s=n[o];r instanceof Date?n[o]=new Date(r):r instanceof RegExp?n[o]=new RegExp(r):r instanceof Map?n[o]=new Map(r):r instanceof Set?n[o]=new Set(r):typeof r=="object"&&r!==null?n[o]=we(s,r):n[o]=r}return n}function $i(e){}function ki(e=[]){return e.sort(()=>Math.random()-.5)}String.prototype.padStart||(String.prototype.padStart=function(e,i=" "){if(Object.prototype.toString.call(i)!=="[object String]")throw new TypeError("fillString must be String");let n=this;if(n.length>=e)return String(n);let o=e-n.length,r=Math.ceil(o/i.length);for(;r>>=1;)i+=i,r===1&&(i+=i);return i.slice(0,o)+n});function wt(e=null,i="yyyy-mm-dd"){let n;e?/^\d{10}$/.test(e==null?void 0:e.toString().trim())?n=new Date(e*1e3):typeof e=="string"&&/^\d+$/.test(e.trim())?n=new Date(Number(e)):typeof e=="string"&&e.includes("-")&&!e.includes("T")?n=new Date(e.replace(/-/g,"/")):n=new Date(e):n=new Date;let o={y:n.getFullYear().toString(),m:(n.getMonth()+1).toString().padStart(2,"0"),d:n.getDate().toString().padStart(2,"0"),h:n.getHours().toString().padStart(2,"0"),M:n.getMinutes().toString().padStart(2,"0"),s:n.getSeconds().toString().padStart(2,"0")};for(let r in o){let[s]=new RegExp(`${r}+`).exec(i)||[];if(s){let a=r==="y"&&s.length===2?2:0;i=i.replace(s,o[r].slice(a))}}return i}function Ci(e=null,i="yyyy-mm-dd"){e==null&&(e=Number(new Date)),e=parseInt(e),e.toString().length==10&&(e*=1e3);let n=new Date().getTime()-e;n=parseInt(n/1e3);let o="";switch(!0){case n<300:o="\u521A\u521A";break;case(n>=300&&n<3600):o=`${parseInt(n/60)}\u5206\u949F\u524D`;break;case(n>=3600&&n<86400):o=`${parseInt(n/3600)}\u5C0F\u65F6\u524D`;break;case(n>=86400&&n<2592e3):o=`${parseInt(n/86400)}\u5929\u524D`;break;default:i===!1?n>=2592e3&&n<365*86400?o=`${parseInt(n/(86400*30))}\u4E2A\u6708\u524D`:o=`${parseInt(n/(86400*365))}\u5E74\u524D`:o=wt(e,i)}return o}function fe(e,i="both"){return e=String(e),i=="both"?e.replace(/^\s+|\s+$/g,""):i=="left"?e.replace(/^\s*/,""):i=="right"?e.replace(/(\s*$)/g,""):i=="all"?e.replace(/\s+/g,""):e}function He(e={},i=!0,n="brackets"){let o=i?"?":"",r=[];["indices","brackets","repeat","comma"].indexOf(n)==-1&&(n="brackets");for(let s in e){let a=e[s];if(!(["",void 0,null].indexOf(a)>=0))if(a.constructor===Array)switch(n){case"indices":for(let u=0;u<a.length;u++)r.push(`${s}[${u}]=${a[u]}`);break;case"brackets":a.forEach(u=>{r.push(`${s}[]=${u}`)});break;case"repeat":a.forEach(u=>{r.push(`${s}=${u}`)});break;case"comma":let m="";a.forEach(u=>{m+=(m?",":"")+u}),r.push(`${s}=${m}`);break;default:a.forEach(u=>{r.push(`${s}[]=${u}`)})}else r.push(`${s}=${a}`)}return r.length?o+r.join("&"):""}function _i(e,i=2e3){uni.showToast({title:String(e),icon:"none",duration:i})}function Ti(e="success",i=!1){["primary","info","error","warning","success"].indexOf(e)==-1&&(e="success");let n="";switch(e){case"primary":n="info-circle";break;case"info":n="info-circle";break;case"error":n="close-circle";break;case"warning":n="error-circle";break;case"success":n="checkmark-circle";break;default:n="checkmark-circle"}return i&&(n+="-fill"),n}function Ii(e,i=0,n=".",o=","){e=`${e}`.replace(/[^0-9+-Ee.]/g,"");let r=isFinite(+e)?+e:0,s=isFinite(+i)?Math.abs(i):0,a=typeof o=="undefined"?",":o,m=typeof n=="undefined"?".":n,u="";u=(s?pi(r,s)+"":`${Math.round(r)}`).split(".");let g=/(-?\d+)(\d{3})/;for(;g.test(u[0]);)u[0]=u[0].replace(g,`$1${a}$2`);return(u[1]||"").length<s&&(u[1]=u[1]||"",u[1]+=new Array(s-u[1].length+1).join("0")),u.join(m)}function Mi(e,i=!0){let n=parseInt(e);return i?/s$/.test(e)?e:e>30?`${e}ms`:`${e}s`:/ms$/.test(e)?n:/s$/.test(e)?n>30?n:n*1e3:n}function Li(e){return`00${e}`.slice(-2)}function Ai(e,i){let n=Pe.call(e,"uv-form-item"),o=Pe.call(e,"uv-form");n&&o&&o.validateField(n.prop,()=>{},i)}function zi(e,i){if(e){if(typeof i!="string"||i==="")return"";if(i.indexOf(".")!==-1){let n=i.split("."),o=e[n[0]]||{};for(let r=1;r<n.length;r++)o&&(o=o[n[r]]);return o}return e[i]}}function Ri(e,i,n){if(!e)return;let o=function(r,s,a){if(s.length===1){r[s[0]]=a;return}for(;s.length>1;){let m=s[0];(!r[m]||typeof r[m]!="object")&&(r[m]={}),s.shift(),o(r[m],s,a)}};if(!(typeof i!="string"||i===""))if(i.indexOf(".")!==-1){let r=i.split(".");o(e,r,n)}else e[i]=n}function bt(){var e;let i=getCurrentPages(),n=(e=i[i.length-1])==null?void 0:e.route;return`/${n||""}`}function Di(){return getCurrentPages()}function Oi(e=0){let i=getCurrentPages(),n=i.length;return i[n-1+e]}function Pi({props:e={},config:i={},color:n={},zIndex:o={}}){let{deepMerge:r}=uni.$uv;uni.$uv.config=r(uni.$uv.config,i),uni.$uv.props=r(uni.$uv.props,e),uni.$uv.color=r(uni.$uv.color,n),uni.$uv.zIndex=r(uni.$uv.zIndex,o)}var Hi=Object.freeze(Object.defineProperty({__proto__:null,$parent:Pe,addStyle:bi,addUnit:Si,deepClone:ce,deepMerge:we,error:$i,formValidate:Ai,getDuration:Mi,getHistoryPage:Oi,getProperty:zi,getPx:gi,guid:wi,os:vi,padZero:Li,page:bt,pages:Di,priceFormat:Ii,queryParams:He,random:xi,randomArray:ki,range:hi,setConfig:Pi,setProperty:Ri,sleep:mi,sys:yi,timeFormat:wt,timeFrom:Ci,toast:_i,trim:fe,type2icon:Ti},Symbol.toStringTag,{value:"Module"})),Ne=class{constructor(){this.config={type:"navigateTo",url:"",delta:1,params:{},animationType:"pop-in",animationDuration:300,intercept:!1,events:{}},this.route=this.route.bind(this)}addRootPath(i){return i[0]==="/"?i:`/${i}`}mixinParam(i,n){i=i&&this.addRootPath(i);let o="";return/.*\/.*\?.*=.*/.test(i)?(o=He(n,!1),i+=`&${o}`):(o=He(n),i+=o)}route(){return j(this,arguments,function*(i={},n={}){let o={};typeof i=="string"?(o.url=this.mixinParam(i,n),o.type="navigateTo"):(o=we(this.config,i),o.url=this.mixinParam(i.url,i.params)),o.url!==bt()&&(n.intercept&&(o.intercept=n.intercept),o.params=n,o=we(this.config,o),typeof o.intercept=="function"?(yield new Promise((s,a)=>{o.intercept(o,s)}))&&this.openPage(o):this.openPage(o))})}openPage(i){let{url:n,type:o,delta:r,animationType:s,animationDuration:a,events:m}=i;(i.type=="navigateTo"||i.type=="to")&&uni.navigateTo({url:n,animationType:s,animationDuration:a,events:m}),(i.type=="redirectTo"||i.type=="redirect")&&uni.redirectTo({url:n}),(i.type=="switchTab"||i.type=="tab")&&uni.switchTab({url:n}),(i.type=="reLaunch"||i.type=="launch")&&uni.reLaunch({url:n}),(i.type=="navigateBack"||i.type=="back")&&uni.navigateBack({delta:r})}},Ni=new Ne().route,le=null;function Bi(e,i=500,n=!1){if(le!==null&&clearTimeout(le),n){let o=!le;le=setTimeout(()=>{le=null},i),o&&typeof e=="function"&&e()}else le=setTimeout(()=>{typeof e=="function"&&e()},i)}var ue;function Ei(e,i=500,n=!0){n?ue||(ue=!0,typeof e=="function"&&e(),setTimeout(()=>{ue=!1},i)):ue||(ue=!0,setTimeout(()=>{ue=!1,typeof e=="function"&&e()},i))}var te={props:{customStyle:{type:[Object,String],default:()=>({})},customClass:{type:String,default:""},url:{type:String,default:""},linkType:{type:String,default:"navigateTo"}},data(){return{}},onLoad(){this.$uv.getRect=this.$uvGetRect},created(){this.$uv.getRect=this.$uvGetRect},computed:{$uv(){var e,i;return de(E({},Hi),{test:fi,route:Ni,debounce:Bi,throttle:Ei,unit:(i=(e=uni==null?void 0:uni.$uv)==null?void 0:e.config)==null?void 0:i.unit})},bem(){return function(e,i,n){let o=`uv-${e}--`,r={};return i&&i.map(s=>{r[o+this[s]]=!0}),n&&n.map(s=>{this[s]?r[o+s]=this[s]:delete r[o+s]}),Object.keys(r)}}},methods:{openPage(e="url"){let i=this[e];i&&uni[this.linkType]({url:i})},$uvGetRect(e,i){return new Promise(n=>{uni.createSelectorQuery().in(this)[i?"selectAll":"select"](e).boundingClientRect(o=>{i&&Array.isArray(o)&&o.length&&n(o),!i&&o&&n(o)}).exec()})},getParentData(e=""){this.parent||(this.parent={}),this.parent=this.$uv.$parent.call(this,e),this.parent.children&&this.parent.children.indexOf(this)===-1&&this.parent.children.push(this),this.parent&&this.parentData&&Object.keys(this.parentData).map(i=>{this.parentData[i]=this.parent[i]})},preventEvent(e){e&&typeof e.stopPropagation=="function"&&e.stopPropagation()},noop(e){this.preventEvent(e)}},onReachBottom(){uni.$emit("uvOnReachBottom")},beforeDestroy(){if(this.parent&&Re(this.parent.children)){let e=this.parent.children;e.map((i,n)=>{i===this&&e.splice(n,1)})}},unmounted(){if(this.parent&&Re(this.parent.children)){let e=this.parent.children;e.map((i,n)=>{i===this&&e.splice(n,1)})}}},Fi="/assets/uvicons.04d281cc.ttf",ji={"uvicon-level":"e68f","uvicon-checkbox-mark":"e659","uvicon-folder":"e694","uvicon-movie":"e67c","uvicon-star-fill":"e61e","uvicon-star":"e618","uvicon-phone-fill":"e6ac","uvicon-phone":"e6ba","uvicon-apple-fill":"e635","uvicon-backspace":"e64d","uvicon-attach":"e640","uvicon-empty-data":"e671","uvicon-empty-address":"e68a","uvicon-empty-favor":"e662","uvicon-empty-car":"e657","uvicon-empty-order":"e66b","uvicon-empty-list":"e672","uvicon-empty-search":"e677","uvicon-empty-permission":"e67d","uvicon-empty-news":"e67e","uvicon-empty-history":"e685","uvicon-empty-coupon":"e69b","uvicon-empty-page":"e60e","uvicon-empty-wifi-off":"e6cc","uvicon-reload":"e627","uvicon-order":"e695","uvicon-server-man":"e601","uvicon-search":"e632","uvicon-more-dot-fill":"e66f","uvicon-scan":"e631","uvicon-map":"e665","uvicon-map-fill":"e6a8","uvicon-tags":"e621","uvicon-tags-fill":"e613","uvicon-eye":"e664","uvicon-eye-fill":"e697","uvicon-eye-off":"e69c","uvicon-eye-off-outline":"e688","uvicon-mic":"e66d","uvicon-mic-off":"e691","uvicon-calendar":"e65c","uvicon-trash":"e623","uvicon-trash-fill":"e6ce","uvicon-play-left":"e6bf","uvicon-play-right":"e6b3","uvicon-minus":"e614","uvicon-plus":"e625","uvicon-info-circle":"e69f","uvicon-info-circle-fill":"e6a7","uvicon-question-circle":"e622","uvicon-question-circle-fill":"e6bc","uvicon-close":"e65a","uvicon-checkmark":"e64a","uvicon-checkmark-circle":"e643","uvicon-checkmark-circle-fill":"e668","uvicon-setting":"e602","uvicon-setting-fill":"e6d0","uvicon-heart":"e6a2","uvicon-heart-fill":"e68b","uvicon-camera":"e642","uvicon-camera-fill":"e650","uvicon-more-circle":"e69e","uvicon-more-circle-fill":"e684","uvicon-chat":"e656","uvicon-chat-fill":"e63f","uvicon-bag":"e647","uvicon-error-circle":"e66e","uvicon-error-circle-fill":"e655","uvicon-close-circle":"e64e","uvicon-close-circle-fill":"e666","uvicon-share":"e629","uvicon-share-fill":"e6bb","uvicon-share-square":"e6c4","uvicon-shopping-cart":"e6cb","uvicon-shopping-cart-fill":"e630","uvicon-bell":"e651","uvicon-bell-fill":"e604","uvicon-list":"e690","uvicon-list-dot":"e6a9","uvicon-zhifubao-circle-fill":"e617","uvicon-weixin-circle-fill":"e6cd","uvicon-weixin-fill":"e620","uvicon-qq-fill":"e608","uvicon-qq-circle-fill":"e6b9","uvicon-moments-circel-fill":"e6c2","uvicon-moments":"e6a0","uvicon-car":"e64f","uvicon-car-fill":"e648","uvicon-warning-fill":"e6c7","uvicon-warning":"e6c1","uvicon-clock-fill":"e64b","uvicon-clock":"e66c","uvicon-edit-pen":"e65d","uvicon-edit-pen-fill":"e679","uvicon-email":"e673","uvicon-email-fill":"e683","uvicon-minus-circle":"e6a5","uvicon-plus-circle":"e603","uvicon-plus-circle-fill":"e611","uvicon-file-text":"e687","uvicon-file-text-fill":"e67f","uvicon-pushpin":"e6d1","uvicon-pushpin-fill":"e6b6","uvicon-grid":"e68c","uvicon-grid-fill":"e698","uvicon-play-circle":"e6af","uvicon-play-circle-fill":"e62a","uvicon-pause-circle-fill":"e60c","uvicon-pause":"e61c","uvicon-pause-circle":"e696","uvicon-gift-fill":"e6b0","uvicon-gift":"e680","uvicon-kefu-ermai":"e660","uvicon-server-fill":"e610","uvicon-coupon-fill":"e64c","uvicon-coupon":"e65f","uvicon-integral":"e693","uvicon-integral-fill":"e6b1","uvicon-home-fill":"e68e","uvicon-home":"e67b","uvicon-account":"e63a","uvicon-account-fill":"e653","uvicon-thumb-down-fill":"e628","uvicon-thumb-down":"e60a","uvicon-thumb-up":"e612","uvicon-thumb-up-fill":"e62c","uvicon-lock-fill":"e6a6","uvicon-lock-open":"e68d","uvicon-lock-opened-fill":"e6a1","uvicon-lock":"e69d","uvicon-red-packet":"e6c3","uvicon-photo-fill":"e6b4","uvicon-photo":"e60d","uvicon-volume-off-fill":"e6c8","uvicon-volume-off":"e6bd","uvicon-volume-fill":"e624","uvicon-volume":"e605","uvicon-download":"e670","uvicon-arrow-up-fill":"e636","uvicon-arrow-down-fill":"e638","uvicon-play-left-fill":"e6ae","uvicon-play-right-fill":"e6ad","uvicon-arrow-downward":"e634","uvicon-arrow-leftward":"e63b","uvicon-arrow-rightward":"e644","uvicon-arrow-upward":"e641","uvicon-arrow-down":"e63e","uvicon-arrow-right":"e63c","uvicon-arrow-left":"e646","uvicon-arrow-up":"e633","uvicon-skip-back-left":"e6c5","uvicon-skip-forward-right":"e61f","uvicon-arrow-left-double":"e637","uvicon-man":"e675","uvicon-woman":"e626","uvicon-en":"e6b8","uvicon-twitte":"e607","uvicon-twitter-circle-fill":"e6cf"},Wi={props:E({name:{type:String,default:""},color:{type:String,default:"#606266"},size:{type:[String,Number],default:"16px"},bold:{type:Boolean,default:!1},index:{type:[String,Number],default:null},hoverClass:{type:String,default:""},customPrefix:{type:String,default:"uvicon"},label:{type:[String,Number],default:""},labelPos:{type:String,default:"right"},labelSize:{type:[String,Number],default:"15px"},labelColor:{type:String,default:"#606266"},space:{type:[String,Number],default:"3px"},imgMode:{type:String,default:"aspectFit"},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},top:{type:[String,Number],default:0},stop:{type:Boolean,default:!1}},(Qe=(Ke=uni.$uv)==null?void 0:Ke.props)==null?void 0:Qe.icon)},Gi={"uv-icon":{"":{alignItems:"center"}},"uv-icon--left":{"":{flexDirection:"row-reverse",alignItems:"center"}},"uv-icon--right":{"":{flexDirection:"row",alignItems:"center"}},"uv-icon--top":{"":{flexDirection:"column-reverse",justifyContent:"center"}},"uv-icon--bottom":{"":{flexDirection:"column",justifyContent:"center"}},"uv-icon__icon":{"":{fontFamily:"uvicon-iconfont",position:"relative",flexDirection:"row",alignItems:"center"}},"uv-icon__icon--primary":{"":{color:"#1ec870"}},"uv-icon__icon--success":{"":{color:"#5ac725"}},"uv-icon__icon--error":{"":{color:"#f56c6c"}},"uv-icon__icon--warning":{"":{color:"#f9ae3d"}},"uv-icon__icon--info":{"":{color:"#909399"}}},Ui=weex.requireModule("dom");Ui.addRule("fontFace",{fontFamily:"uvicon-iconfont",src:"url('"+Fi+"')"});var qi={name:"uv-icon",emits:["click"],mixins:[ee,te,Wi],data(){return{colorType:["primary","success","info","error","warning"]}},computed:{uClasses(){let e=[];return e.push(this.customPrefix),e.push(this.customPrefix+"-"+this.name),this.color&&this.colorType.includes(this.color)&&e.push("uv-icon__icon--"+this.color),e},iconStyle(){let e={};return e={fontSize:this.$uv.addUnit(this.size),lineHeight:this.$uv.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:this.$uv.addUnit(this.top)},this.color&&!this.colorType.includes(this.color)&&(e.color=this.color),e},isImg(){let e=this.name.indexOf("data:")>-1&&this.name.indexOf("base64")>-1;return this.name.indexOf("/")!==-1||e},imgStyle(){let e={};return e.width=this.width?this.$uv.addUnit(this.width):this.$uv.addUnit(this.size),e.height=this.height?this.$uv.addUnit(this.height):this.$uv.addUnit(this.size),e},icon(){let e=ji["uvicon-"+this.name];return e?e?unescape(`%u${e}`):["uvicon"].indexOf(this.customPrefix)>-1?this.name:"":e?unescape(`%u${e}`):["uvicon"].indexOf(this.customPrefix)>-1?unescape(`%u${this.name}`):""}},methods:{clickHandler(e){this.$emit("click",this.index),this.stop&&this.preventEvent(e)}}};function Yi(e,i,n,o,r,s){return(0,t.openBlock)(),(0,t.createElementBlock)("view",{class:(0,t.normalizeClass)(["uv-icon",["uv-icon--"+e.labelPos]]),onClick:i[0]||(i[0]=(...a)=>s.clickHandler&&s.clickHandler(...a)),renderWhole:!0},[s.isImg?((0,t.openBlock)(),(0,t.createElementBlock)("u-image",{key:0,class:"uv-icon__img",src:e.name,mode:e.imgMode,style:(0,t.normalizeStyle)([s.imgStyle,e.$uv.addStyle(e.customStyle)])},null,12,["src","mode"])):((0,t.openBlock)(),(0,t.createElementBlock)("u-text",{key:1,class:(0,t.normalizeClass)(["uv-icon__icon",s.uClasses]),style:(0,t.normalizeStyle)([s.iconStyle,e.$uv.addStyle(e.customStyle)]),hoverClass:e.hoverClass},(0,t.toDisplayString)(s.icon),15,["hoverClass"])),e.label!==""?((0,t.openBlock)(),(0,t.createElementBlock)("u-text",{key:2,class:"uv-icon__label",style:(0,t.normalizeStyle)({color:e.labelColor,fontSize:e.$uv.addUnit(e.labelSize),marginLeft:e.labelPos=="right"?e.$uv.addUnit(e.space):0,marginTop:e.labelPos=="bottom"?e.$uv.addUnit(e.space):0,marginRight:e.labelPos=="left"?e.$uv.addUnit(e.space):0,marginBottom:e.labelPos=="top"?e.$uv.addUnit(e.space):0})},(0,t.toDisplayString)(e.label),5)):(0,t.createCommentVNode)("",!0)],2)}var Be=F(qi,[["render",Yi],["styles",[Gi]]]),Zi={props:E({text:{type:[Array],default:""},icon:{type:[String,Boolean,null],default:"volume"},mode:{type:String,default:""},color:{type:String,default:"#f9ae3d"},bgColor:{type:String,default:"#fdf6ec"},fontSize:{type:[String,Number],default:14},speed:{type:[String,Number],default:80},step:{type:Boolean,default:!1},duration:{type:[String,Number],default:1500},disableTouch:{type:Boolean,default:!0},disableScroll:{type:Boolean,default:!1}},(tt=(et=uni.$uv)==null?void 0:et.props)==null?void 0:tt.columnNotice)},Vi={"uv-line-1":{"":{lines:1,textOverflow:"ellipsis",overflow:"hidden",flex:1}},"uv-line-2":{"":{lines:2,textOverflow:"ellipsis",overflow:"hidden",flex:1}},"uv-line-3":{"":{lines:3,textOverflow:"ellipsis",overflow:"hidden",flex:1}},"uv-line-4":{"":{lines:4,textOverflow:"ellipsis",overflow:"hidden",flex:1}},"uv-line-5":{"":{lines:5,textOverflow:"ellipsis",overflow:"hidden",flex:1}},"uv-notice":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"uv-notice__left-icon":{"":{alignItems:"center",marginRight:5}},"uv-notice__right-icon":{"":{marginLeft:5,alignItems:"center"}},"uv-notice__swiper":{"":{height:16,flexDirection:"row",alignItems:"center",flex:1}},"uv-notice__swiper__item":{"":{flexDirection:"row",alignItems:"center",overflow:"hidden"}},"uv-notice__swiper__item__text":{"":{fontSize:14,color:"#f9ae3d"}}},Xi={emits:["click","close","change"],mixins:[ee,te,Zi],watch:{text:{immediate:!0,handler(e,i){this.$uv.test.array(e)||this.$uv.error("noticebar\u7EC4\u4EF6direction\u4E3Acolumn\u65F6\uFF0C\u8981\u6C42text\u53C2\u6570\u4E3A\u6570\u7EC4\u5F62\u5F0F")}}},computed:{textStyle(){let e={};return e.color=this.color,e.fontSize=this.$uv.addUnit(this.fontSize),e},vertical(){return this.mode!="horizontal"},swiperStyle(){let e={};return e.flex=1,e.height="16px",e}},data(){return{index:0}},methods:{noticeChange(e){this.index=e.detail.current,this.$emit("change",this.index)},clickHandler(){this.$emit("click",this.index)},close(){this.$emit("close")}}};function Ji(e,i,n,o,r,s){let a=q((0,t.resolveDynamicComponent)("uv-icon"),Be),m=(0,t.resolveComponent)("swiper-item"),u=(0,t.resolveComponent)("swiper");return(0,t.openBlock)(),(0,t.createElementBlock)("view",{class:"uv-notice",onClick:i[0]||(i[0]=(...g)=>s.clickHandler&&s.clickHandler(...g)),renderWhole:!0},[(0,t.renderSlot)(e.$slots,"icon",{},()=>[e.icon?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"uv-notice__left-icon"},[(0,t.createVNode)(a,{name:e.icon,color:e.color,size:"19"},null,8,["name","color"])])):(0,t.createCommentVNode)("",!0)]),(0,t.createVNode)(u,{"disable-touch":e.disableTouch,vertical:!e.step,circular:"",interval:e.duration,autoplay:!e.disableScroll,class:"uv-notice__swiper",style:(0,t.normalizeStyle)([s.swiperStyle]),onChange:s.noticeChange},{default:(0,t.withCtx)(()=>[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(e.text,(g,I)=>((0,t.openBlock)(),(0,t.createBlock)(m,{key:I,class:"uv-notice__swiper__item"},{default:(0,t.withCtx)(()=>[(0,t.createElementVNode)("u-text",{class:"uv-notice__swiper__item__text uv-line-1",style:(0,t.normalizeStyle)([s.textStyle])},(0,t.toDisplayString)(g),5)]),_:2},1024))),128))]),_:1},8,["disable-touch","vertical","interval","autoplay","style","onChange"]),["link","closable"].includes(e.mode)?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"uv-notice__right-icon"},[e.mode==="link"?((0,t.openBlock)(),(0,t.createBlock)(a,{key:0,name:"arrow-right",size:17,color:e.color},null,8,["color"])):(0,t.createCommentVNode)("",!0),e.mode==="closable"?((0,t.openBlock)(),(0,t.createBlock)(a,{key:1,name:"close",size:16,color:e.color,onClick:s.close},null,8,["color","onClick"])):(0,t.createCommentVNode)("",!0)])):(0,t.createCommentVNode)("",!0)])}var Ki=F(Xi,[["render",Ji],["styles",[Vi]]]),Qi={props:E({text:{type:String,default:""},icon:{type:[String,Boolean,null],default:"volume"},mode:{type:String,default:""},color:{type:String,default:"#f9ae3d"},bgColor:{type:String,default:"#fdf6ec"},fontSize:{type:[String,Number],default:14},speed:{type:[String,Number],default:80}},(nt=(it=uni.$uv)==null?void 0:it.props)==null?void 0:nt.rowNotice)},en={"uv-notice":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"uv-notice__left-icon":{"":{alignItems:"center",marginRight:5}},"uv-notice__right-icon":{"":{marginLeft:5,alignItems:"center"}},"uv-notice__content":{"":{textAlign:"right",flex:1,flexDirection:"row",flexWrap:"nowrap",overflow:"hidden"}},"uv-notice__content__text":{"":{fontSize:14,color:"#f9ae3d",flexDirection:"row"}}},Le=me("animation"),tn=me("dom"),nn={name:"uv-row-notice",emits:["click","close"],mixins:[ee,te,Qi],data(){return{animationDuration:"0",animationPlayState:"paused",nvueInit:!0,show:!0}},watch:{text:{immediate:!0,handler(e,i){this.nvueInit=!0,this.$uv.test.string(e)||this.$uv.error("noticebar\u7EC4\u4EF6direction\u4E3Arow\u65F6\uFF0C\u8981\u6C42text\u53C2\u6570\u4E3A\u5B57\u7B26\u4E32\u5F62\u5F0F")}},fontSize(){this.nvueInit=!0},speed(){this.nvueInit=!0}},computed:{textStyle(){let e={};return e.color=this.color,e.fontSize=this.$uv.addUnit(this.fontSize),e},animationStyle(){let e={};return e.animationDuration=this.animationDuration,e.animationPlayState=this.animationPlayState,e},innerText(){let e=[],i=20,n=this.text?this.text.split(""):[];for(let o=0;o<n.length;o+=i)e.push(n.slice(o,o+i).join(""));return e}},mounted(){var e=getCurrentPages(),i=e[e.length-1],n=i.$getAppWebview();n.addEventListener("hide",()=>{this.webviewHide=!0}),n.addEventListener("show",()=>{this.webviewHide=!1}),this.init()},methods:{init(){this.nvue(),this.$uv.test.string(this.text)||this.$uv.error("noticebar\u7EC4\u4EF6direction\u4E3Arow\u65F6\uFF0C\u8981\u6C42text\u53C2\u6570\u4E3A\u5B57\u7B26\u4E32\u5F62\u5F0F")},vue(){return j(this,null,function*(){})},nvue(){return j(this,null,function*(){this.nvueInit=!1;let e=0,i=0;yield this.$uv.sleep(),i=(yield this.getNvueRect("uv-notice__content__text")).width,e=(yield this.getNvueRect("uv-notice__content")).width,Le.transition(this.$refs["uv-notice__content__text"],{styles:{transform:`translateX(${e}px)`}},()=>{!this.stopAnimation&&this.loopAnimation(i,e)})})},loopAnimation(e,i){Le.transition(this.$refs["uv-notice__content__text"],{styles:{transform:`translateX(-${e}px)`},duration:(i+e)/this.$uv.getPx(this.speed)*1e3,delay:10},()=>{Le.transition(this.$refs["uv-notice__content__text"],{styles:{transform:`translateX(${this.stopAnimation?0:i}px)`}},()=>{this.stopAnimation||(this.nvueInit?this.nvue():this.loopAnimation(e,i))})})},getNvueRect(e){return new Promise(i=>{tn.getComponentRect(this.$refs[e],n=>{i(n.size)})})},clickHandler(e){this.$emit("click")},close(){this.$emit("close")}},unmounted(){this.stopAnimation=!0}};function on(e,i,n,o,r,s){let a=q((0,t.resolveDynamicComponent)("uv-icon"),Be);return(0,t.openBlock)(),(0,t.createElementBlock)("view",{class:"uv-notice",onClick:i[0]||(i[0]=(...m)=>s.clickHandler&&s.clickHandler(...m)),renderWhole:!0},[(0,t.renderSlot)(e.$slots,"icon",{},()=>[e.icon?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"uv-notice__left-icon"},[(0,t.createVNode)(a,{name:e.icon,color:e.color,size:"19"},null,8,["name","color"])])):(0,t.createCommentVNode)("",!0)]),(0,t.createElementVNode)("view",{class:"uv-notice__content",ref:"uv-notice__content"},[(0,t.createElementVNode)("view",{ref:"uv-notice__content__text",class:"uv-notice__content__text",style:(0,t.normalizeStyle)([s.animationStyle])},[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(s.innerText,(m,u)=>((0,t.openBlock)(),(0,t.createElementBlock)("u-text",{key:u,style:(0,t.normalizeStyle)([s.textStyle])},(0,t.toDisplayString)(m),5))),128))],4)],512),["link","closable"].includes(e.mode)?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"uv-notice__right-icon"},[e.mode==="link"?((0,t.openBlock)(),(0,t.createBlock)(a,{key:0,name:"arrow-right",size:17,color:e.color},null,8,["color"])):(0,t.createCommentVNode)("",!0),e.mode==="closable"?((0,t.openBlock)(),(0,t.createBlock)(a,{key:1,onClick:s.close,name:"close",size:16,color:e.color},null,8,["onClick","color"])):(0,t.createCommentVNode)("",!0)])):(0,t.createCommentVNode)("",!0)])}var rn=F(nn,[["render",on],["styles",[en]]]),sn={props:E({text:{type:[Array,String],default:()=>[]},direction:{type:String,default:"row"},step:{type:Boolean,default:!1},icon:{type:[String,Boolean,null],default:"volume"},mode:{type:String,default:""},color:{type:String,default:"#f9ae3d"},bgColor:{type:String,default:"#fdf6ec"},speed:{type:[String,Number],default:80},fontSize:{type:[String,Number],default:14},duration:{type:[String,Number],default:2e3},url:{type:String,default:""},linkType:{type:String,default:"navigateTo"},disableTouch:{type:Boolean,default:!0},disableScroll:{type:Boolean,default:!1}},(rt=(ot=uni.$uv)==null?void 0:ot.props)==null?void 0:rt.noticeBar)},an={"uv-notice-bar":{"":{overflow:"hidden",paddingTop:9,paddingRight:12,paddingBottom:9,paddingLeft:12,flex:1}}},ln={name:"uv-notice-bar",emits:["click","close","change"],mixins:[ee,te,sn],data(){return{show:!0}},methods:{click(e){this.$emit("click",e),this.url&&this.linkType&&this.openPage()},close(){this.show=!1,this.$emit("close")},change(e){this.$emit("change",e)}}};function un(e,i,n,o,r,s){let a=q((0,t.resolveDynamicComponent)("uv-column-notice"),Ki),m=q((0,t.resolveDynamicComponent)("uv-row-notice"),rn);return r.show?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"uv-notice-bar",style:(0,t.normalizeStyle)([{backgroundColor:e.bgColor},e.$uv.addStyle(e.customStyle)]),renderWhole:!0},[e.direction==="column"||e.direction==="row"&&e.step?((0,t.openBlock)(),(0,t.createBlock)(a,{key:0,color:e.color,bgColor:e.bgColor,text:e.text,mode:e.mode,step:e.step,icon:e.icon,"disable-touch":e.disableTouch,"disable-scroll":e.disableScroll,fontSize:e.fontSize,duration:e.duration,onClose:s.close,onClick:s.click,onChange:s.change},null,8,["color","bgColor","text","mode","step","icon","disable-touch","disable-scroll","fontSize","duration","onClose","onClick","onChange"])):((0,t.openBlock)(),(0,t.createBlock)(m,{key:1,color:e.color,bgColor:e.bgColor,text:e.text,mode:e.mode,fontSize:e.fontSize,speed:e.speed,url:e.url,linkType:e.linkType,icon:e.icon,onClose:s.close,onClick:s.click},null,8,["color","bgColor","text","mode","fontSize","speed","url","linkType","icon","onClose","onClick"]))],4)):(0,t.createCommentVNode)("",!0)}var cn=F(ln,[["render",un],["styles",[an]]]),ve="location_cache",Ee=(0,Q.defineStore)({id:"map",state:()=>({userInfoLocation:{lat:"",lng:""},locationInfo:{lon:"",lat:"",mapScale:"",minLon:"",maxLon:"",minLat:"",maxLat:""},cateObj:{chargeModeType:[],parkModeType:[],sort:[1],radius:[2e3],supplierId:[]},cateCache:[]}),getters:{requestParams:e=>{let{lon:i,lat:n}=e.locationInfo,{radius:o,chargeModeType:r,parkModeType:s,sort:a,supplierId:m}=e.cateObj;return{lon:i,lat:n,radius:o.length==1?o[0]:"",chargeModeType:r.length==2||r.length==0?"":r[0],parkModeType:s.length==1?s[0]:"",sort:a.length==1?a[0]:"",supplierId:m.length==1?m[0]:"",price:1,connector:1}},combRequestParams:e=>{let{chargeModeType:i,parkModeType:n,supplierId:o}=e.cateObj;return de(E({},e.locationInfo),{chargeModeType:i.length==2||i.length==0?"":i[0],parkModeType:n.length==1?n[0]:"",supplierId:o.length==1?o[0]:""})}},actions:{getCacheData(){try{let e=uni.getStorageSync("cateObj");e&&(this.cateCache=["cate"],this.cateObj=JSON.parse(e))}catch(e){}},setUserLocation(e){this.userInfoLocation.lat=e.lat,this.userInfoLocation.lng=e.lng},initializeFromStorage(){try{let e=uni.getStorageSync(ve)||{};if(e&&e.latitude&&e.longitude){let i=Date.now(),n=e.timestamp||0,o=24*60*60*1e3;i-n<=o?(this.locationInfo.lon=e.longitude||"",this.locationInfo.lat=e.latitude||"",C("log","at store/modules/map.ts:82","\u4ECE\u7F13\u5B58\u6062\u590D\u4F4D\u7F6E:",e)):C("log","at store/modules/map.ts:84","\u4F4D\u7F6E\u7F13\u5B58\u5DF2\u8FC7\u671F\uFF0C\u5C06\u8FDB\u884C\u5B9E\u65F6\u5B9A\u4F4D")}}catch(e){C("error","at store/modules/map.ts:88","\u521D\u59CB\u5316\u5B58\u50A8\u6570\u636E\u5931\u8D25:",e)}}}}),dn={tapBoxTouchLine:{"":{marginTop:"16rpx",display:"flex",alignItems:"center",justifyContent:"center"}},line:{"":{marginBottom:"16rpx",width:"60rpx",height:"4rpx",backgroundColor:"#d6d7d9",borderRadius:"2rpx",transform:"scaleY(0.5)"}},fixedbox:{"":{position:"fixed",left:0,backgroundColor:"#f5f5f5",zIndex:999}},fixedbox2:{"":{position:"fixed",left:0,backgroundColor:"#f5f5f5",zIndex:999,transitionProperty:"top",transitionDuration:100,transitionTimingFunction:"cubic-bezier(0.25,0.46,0.45,0.94)",willChange:"top"}},content:{"":{overflow:"hidden"}},"@TRANSITION":{fixedbox2:{property:"top",duration:100,timingFunction:"cubic-bezier(0.25,0.46,0.45,0.94)"}}},fn={name:"TouchBox",data(){return{windowHeight:0,windowWidth:0,defaultTop:0,currentTop:0,threshold:200,isEnd:!1,isFirstTouch:!0,touchStartOffset:0}},props:{radius:{type:String,default:"50rpx"},minHeight:{type:Number,default:.2},maxHeight:{type:Number,default:.5},touchHeight:{type:Number,default:0},showLine:{type:Boolean,default:!0}},computed:{containerStyle(){return{height:`${this.windowHeight}px`,width:`${this.windowWidth}px`,top:`${this.currentTop}px`,"border-top-left-radius":this.radius,"border-top-right-radius":this.radius}},contentStyle(){return{height:`${this.windowHeight}px`,width:`${this.windowWidth}px`}},minTop(){return this.windowHeight*(1-this.maxHeight)},maxTop(){return this.windowHeight*(1-this.minHeight)}},mounted(){this.$nextTick(()=>{this.initializeComponent()})},methods:{initializeComponent(){let e=uni.getSystemInfoSync();this.windowWidth=e.windowWidth,this.windowHeight=e.windowHeight;let i=this.windowHeight*(1-this.minHeight);this.defaultTop=i,this.threshold=(this.windowHeight*this.maxHeight-this.windowHeight*this.minHeight)/2,this.currentTop=i,this.emitHeightChange()},handleTap(e){},handleTouchMove(e){let i=this.getTouchY(e);if(this.touchHeight!==0&&i-this.currentTop>this.touchHeight)return!1;this.isEnd=!1,this.isFirstTouch&&(this.isFirstTouch=!1,this.touchStartOffset=i-this.currentTop),this.updatePosition(i-this.touchStartOffset),this.emitHeightChange()},handleTouchEnd(){this.isEnd=!0,this.isFirstTouch=!0;let e=this.defaultTop-this.currentTop;this.currentTop=e<=this.threshold?this.defaultTop:this.minTop,this.emitHeightChange()},updatePosition(e){e>this.defaultTop?this.currentTop=this.defaultTop:this.currentTop=Math.max(this.minTop,e)},getTouchY(e){return e.touches[0].screenY},emitHeightChange(){this.$emit("currentHeight",this.windowHeight-this.currentTop)},handleOnScroll(e){let{contentOffset:i,isDragging:n}=e,{y:o}=i;if(o>=0)if(n){let r=this.currentTop+o;this.currentTop=Math.max(this.minTop,Math.min(this.maxTop,r)),this.emitHeightChange()}else this.animateToPosition(o<=this.threshold?this.maxTop:this.minTop);else this.animateToPosition(this.minTop)},handleOnScrollEnd(e){let{contentOffset:i,isDragging:n}=e,{y:o}=i;n||(o>=0?this.animateToPosition(o<=this.threshold?this.maxTop:this.minTop):this.animateToPosition(-o<=this.threshold?this.maxTop:this.minTop))},simpleThrottle(e,i=300){let n=0;return function(...o){let r=Date.now();r-n>=i&&(e.apply(this,o),n=r)}},animateToPosition(e){this.currentTop=e,this.emitHeightChange()}}};function pn(e,i,n,o,r,s){return(0,t.openBlock)(),(0,t.createElementBlock)("view",{renderWhole:!0},[(0,t.createElementVNode)("view",{class:(0,t.normalizeClass)(r.isEnd?"fixedbox2":"fixedbox"),style:(0,t.normalizeStyle)(s.containerStyle),onTouchmove:i[0]||(i[0]=a=>s.handleTouchMove(a)),onClick:i[1]||(i[1]=(...a)=>s.handleTap&&s.handleTap(...a)),onTouchend:i[2]||(i[2]=(...a)=>s.handleTouchEnd&&s.handleTouchEnd(...a)),ref:"fixbox"},[(0,t.createElementVNode)("view",{class:"content",style:(0,t.normalizeStyle)(s.contentStyle)},[n.showLine?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"tapBoxTouchLine"},[(0,t.createElementVNode)("view",{class:"line"})])):(0,t.createCommentVNode)("",!0),(0,t.renderSlot)(e.$slots,"default")],4)],38)])}var hn=F(fn,[["render",pn],["styles",[dn]]]),gn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},mn={exports:{}};(function(e,i){(function(n,o){e.exports=o()})(gn,function(){var n=1e3,o=6e4,r=36e5,s="millisecond",a="second",m="minute",u="hour",g="day",I="week",k="month",O="quarter",L="year",P="date",B="Invalid Date",Z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,W=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ie={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var c=["th","st","nd","rd"],d=v%100;return"["+v+(c[(d-20)%10]||c[d]||c[0])+"]"}},G=function(v,c,d){var h=String(v);return!h||h.length>=c?v:""+Array(c+1-h.length).join(d)+v},Y={s:G,z:function(v){var c=-v.utcOffset(),d=Math.abs(c),h=Math.floor(d/60),f=d%60;return(c<=0?"+":"-")+G(h,2,"0")+":"+G(f,2,"0")},m:function v(c,d){if(c.date()<d.date())return-v(d,c);var h=12*(d.year()-c.year())+(d.month()-c.month()),f=c.clone().add(h,k),y=d-f<0,w=c.clone().add(h+(y?-1:1),k);return+(-(h+(d-f)/(y?f-w:w-f))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:k,y:L,w:I,d:g,D:P,h:u,m,s:a,ms:s,Q:O}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},H="en",N={};N[H]=ie;var U="$isDayjsObject",J=function(v){return v instanceof $||!(!v||!v[U])},V=function v(c,d,h){var f;if(!c)return H;if(typeof c=="string"){var y=c.toLowerCase();N[y]&&(f=y),d&&(N[y]=d,f=y);var w=c.split("-");if(!f&&w.length>1)return v(w[0])}else{var T=c.name;N[T]=c,f=T}return!h&&f&&(H=f),f||!h&&H},A=function(v,c){if(J(v))return v.clone();var d=typeof c=="object"?c:{};return d.date=v,d.args=arguments,new $(d)},_=Y;_.l=V,_.i=J,_.w=function(v,c){return A(v,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var $=function(){function v(d){this.$L=V(d.locale,null,!0),this.parse(d),this.$x=this.$x||d.x||{},this[U]=!0}var c=v.prototype;return c.parse=function(d){this.$d=function(h){var f=h.date,y=h.utc;if(f===null)return new Date(NaN);if(_.u(f))return new Date;if(f instanceof Date)return new Date(f);if(typeof f=="string"&&!/Z$/i.test(f)){var w=f.match(Z);if(w){var T=w[2]-1||0,z=(w[7]||"0").substring(0,3);return y?new Date(Date.UTC(w[1],T,w[3]||1,w[4]||0,w[5]||0,w[6]||0,z)):new Date(w[1],T,w[3]||1,w[4]||0,w[5]||0,w[6]||0,z)}}return new Date(f)}(d),this.init()},c.init=function(){var d=this.$d;this.$y=d.getFullYear(),this.$M=d.getMonth(),this.$D=d.getDate(),this.$W=d.getDay(),this.$H=d.getHours(),this.$m=d.getMinutes(),this.$s=d.getSeconds(),this.$ms=d.getMilliseconds()},c.$utils=function(){return _},c.isValid=function(){return this.$d.toString()!==B},c.isSame=function(d,h){var f=A(d);return this.startOf(h)<=f&&f<=this.endOf(h)},c.isAfter=function(d,h){return A(d)<this.startOf(h)},c.isBefore=function(d,h){return this.endOf(h)<A(d)},c.$g=function(d,h,f){return _.u(d)?this[h]:this.set(f,d)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(d,h){var f=this,y=!!_.u(h)||h,w=_.p(d),T=function(M,D){var K=_.w(f.$u?Date.UTC(f.$y,D,M):new Date(f.$y,D,M),f);return y?K:K.endOf(g)},z=function(M,D){return _.w(f.toDate()[M].apply(f.toDate("s"),(y?[0,0,0,0]:[23,59,59,999]).slice(D)),f)},b=this.$W,x=this.$M,l=this.$D,p="set"+(this.$u?"UTC":"");switch(w){case L:return y?T(1,0):T(31,11);case k:return y?T(1,x):T(0,x+1);case I:var S=this.$locale().weekStart||0,R=(b<S?b+7:b)-S;return T(y?l-R:l+(6-R),x);case g:case P:return z(p+"Hours",0);case u:return z(p+"Minutes",1);case m:return z(p+"Seconds",2);case a:return z(p+"Milliseconds",3);default:return this.clone()}},c.endOf=function(d){return this.startOf(d,!1)},c.$set=function(d,h){var f,y=_.p(d),w="set"+(this.$u?"UTC":""),T=(f={},f[g]=w+"Date",f[P]=w+"Date",f[k]=w+"Month",f[L]=w+"FullYear",f[u]=w+"Hours",f[m]=w+"Minutes",f[a]=w+"Seconds",f[s]=w+"Milliseconds",f)[y],z=y===g?this.$D+(h-this.$W):h;if(y===k||y===L){var b=this.clone().set(P,1);b.$d[T](z),b.init(),this.$d=b.set(P,Math.min(this.$D,b.daysInMonth())).$d}else T&&this.$d[T](z);return this.init(),this},c.set=function(d,h){return this.clone().$set(d,h)},c.get=function(d){return this[_.p(d)]()},c.add=function(d,h){var f,y=this;d=Number(d);var w=_.p(h),T=function(x){var l=A(y);return _.w(l.date(l.date()+Math.round(x*d)),y)};if(w===k)return this.set(k,this.$M+d);if(w===L)return this.set(L,this.$y+d);if(w===g)return T(1);if(w===I)return T(7);var z=(f={},f[m]=o,f[u]=r,f[a]=n,f)[w]||1,b=this.$d.getTime()+d*z;return _.w(b,this)},c.subtract=function(d,h){return this.add(-1*d,h)},c.format=function(d){var h=this,f=this.$locale();if(!this.isValid())return f.invalidDate||B;var y=d||"YYYY-MM-DDTHH:mm:ssZ",w=_.z(this),T=this.$H,z=this.$m,b=this.$M,x=f.weekdays,l=f.months,p=f.meridiem,S=function(D,K,ne,he){return D&&(D[K]||D(h,y))||ne[K].slice(0,he)},R=function(D){return _.s(T%12||12,D,"0")},M=p||function(D,K,ne){var he=D<12?"AM":"PM";return ne?he.toLowerCase():he};return y.replace(W,function(D,K){return K||function(ne){switch(ne){case"YY":return String(h.$y).slice(-2);case"YYYY":return _.s(h.$y,4,"0");case"M":return b+1;case"MM":return _.s(b+1,2,"0");case"MMM":return S(f.monthsShort,b,l,3);case"MMMM":return S(l,b);case"D":return h.$D;case"DD":return _.s(h.$D,2,"0");case"d":return String(h.$W);case"dd":return S(f.weekdaysMin,h.$W,x,2);case"ddd":return S(f.weekdaysShort,h.$W,x,3);case"dddd":return x[h.$W];case"H":return String(T);case"HH":return _.s(T,2,"0");case"h":return R(1);case"hh":return R(2);case"a":return M(T,z,!0);case"A":return M(T,z,!1);case"m":return String(z);case"mm":return _.s(z,2,"0");case"s":return String(h.$s);case"ss":return _.s(h.$s,2,"0");case"SSS":return _.s(h.$ms,3,"0");case"Z":return w}return null}(D)||w.replace(":","")})},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(d,h,f){var y,w=this,T=_.p(h),z=A(d),b=(z.utcOffset()-this.utcOffset())*o,x=this-z,l=function(){return _.m(w,z)};switch(T){case L:y=l()/12;break;case k:y=l();break;case O:y=l()/3;break;case I:y=(x-b)/6048e5;break;case g:y=(x-b)/864e5;break;case u:y=x/r;break;case m:y=x/o;break;case a:y=x/n;break;default:y=x}return f?y:_.a(y)},c.daysInMonth=function(){return this.endOf(k).$D},c.$locale=function(){return N[this.$L]},c.locale=function(d,h){if(!d)return this.$L;var f=this.clone(),y=V(d,h,!0);return y&&(f.$L=y),f},c.clone=function(){return _.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},v}(),X=$.prototype;return A.prototype=X,[["$ms",s],["$s",a],["$m",m],["$H",u],["$W",g],["$M",k],["$y",L],["$D",P]].forEach(function(v){X[v[1]]=function(c){return this.$g(c,v[0],v[1])}}),A.extend=function(v,c){return v.$i||(v(c,$,A),v.$i=!0),A},A.locale=V,A.isDayjs=J,A.unix=function(v){return A(1e3*v)},A.en=N[H],A.Ls=N,A.p={},A})})(mn);var vn={2:1e6,3:1e6,4:5e5,5:2e5,6:1e5,7:5e4,8:3e4,9:2e4,10:1e4,11:5e3,12:2e3,13:1e3,14:500,15:200,16:100,17:50,18:25,19:10,20:10},Ae=e=>vn[e];function ft(e){return e>=1e3?(e/1e3).toFixed(1)+"km":e.toFixed(1)+"m"}var yn=(e,i,n,o)=>{let r=6378.137,s=e*Math.PI/180,a=n*Math.PI/180,m=s-a,u=i*Math.PI/180-o*Math.PI/180,g=2*Math.asin(Math.sqrt(Math.pow(Math.sin(m/2),2)+Math.cos(s)*Math.cos(a)*Math.pow(Math.sin(u/2),2)));return g=g*r,g=Math.round(g*1e4)/1e4,Number((g*1e3).toFixed(2))},xn=e=>{let i=new Map;for(let n of e)!i.has(n.stationLat)&&!i.has(n.stationLng)&&i.set(n.stationLat,n);return[...i.values()]},wn=e=>e>=1e3?Math.floor(e/1e3)+"k":String(e);uni.getSystemInfoSync().platform;var bn={"station-item":{"":{position:"relative",marginBottom:"32rpx",paddingTop:"32rpx",paddingBottom:"32rpx",paddingLeft:"20rpx",paddingRight:"20rpx",backgroundColor:"#ffffff",borderRadius:"16rpx"},".nmt":{marginBottom:"32rpx"}},close:{"":{position:"absolute",right:"20rpx",top:"36rpx",width:"40rpx",height:"40rpx"}},img:{".close ":{width:"40rpx",height:"40rpx"},".btn ":{paddingRight:"10rpx",width:"24rpx",height:"24rpx"}},"station-item-head":{"":{flexDirection:"row",alignItems:"center",marginBottom:"16rpx"}},tit:{"":{flex:1,marginRight:"16rpx",fontSize:"32rpx",fontWeight:"600",color:"#333333",lineHeight:"48rpx",lines:1,textOverflow:"ellipsis"}},distance:{"":{flexDirection:"row",alignItems:"center",justifyContent:"center",minWidth:"130rpx",height:"48rpx",backgroundColor:"#ffffff",borderRadius:"24rpx",borderWidth:"2rpx",borderColor:"#f2f2f2",fontSize:"24rpx",color:"#666666",lineHeight:"40rpx"}},triangle:{"":{marginRight:"8rpx",width:"20rpx",height:"20rpx"}},txt:{"":{fontSize:"24rpx",color:"#666666"}},"station-item-tags":{"":{marginBottom:"20rpx",flexDirection:"row",alignItems:"center"}},"s-tag":{"":{marginRight:"16rpx",paddingTop:"4rpx",paddingBottom:"4rpx",paddingLeft:"10rpx",paddingRight:"10rpx",backgroundColor:"#f5f5f5",borderRadius:"4rpx",borderWidth:"2rpx",borderColor:"#f0f0f0",fontSize:"18rpx",fontWeight:"500",color:"#666666",lineHeight:"20rpx"},".primary":{backgroundColor:"#e9faf1",borderColor:"rgba(30,200,112,0.3)"},".dedicated":{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,flexDirection:"row",alignItems:"center",backgroundColor:"#1ec870",borderColor:"#1ec870"}},"tag-text":{".s-tag.primary ":{color:"#1ec870"},"":{fontSize:"18rpx"}},chery:{"":{paddingTop:"4rpx",paddingBottom:"4rpx",paddingLeft:"6rpx",paddingRight:"6rpx",backgroundColor:"#1ec870",color:"#ffffff",fontSize:"18rpx"}},de:{"":{paddingTop:"4rpx",paddingBottom:"4rpx",paddingLeft:"6rpx",paddingRight:"6rpx",color:"#666666",backgroundColor:"#ffffff",fontSize:"18rpx"}},"station-item-num":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},mon:{"":{flexDirection:"row",alignItems:"flex-end",fontWeight:"600",fontSize:"20rpx",color:"#ff6b35",lineHeight:1}},fh:{".mon ":{fontWeight:"600"},"":{fontSize:"28rpx",color:"#ff6b35"}},price:{".mon ":{fontWeight:"600"},"":{fontSize:"48rpx",color:"#ff6b35"}},unit:{".mon ":{fontWeight:"600"},"":{fontSize:"20rpx",color:"#ff6b35"}},num:{"":{flexDirection:"row",alignItems:"center"}},qthx:{"":{paddingTop:"4rpx",paddingBottom:"4rpx",paddingLeft:"8rpx",paddingRight:"8rpx",marginLeft:"24rpx",flexDirection:"row",alignItems:"center",backgroundColor:"#fff8f3",borderRadius:"8rpx"}},l:{".qthx ":{fontSize:"24rpx",fontWeight:"500",color:"#f97731"},".sthx ":{fontSize:"24rpx",fontWeight:"500",color:"#1ec870"}},"s-n":{".qthx ":{fontSize:"24rpx",marginLeft:"8rpx",flexDirection:"row",alignItems:"flex-end",lineHeight:1,paddingTop:"4rpx",paddingBottom:"4rpx",borderRadius:"8rpx",backgroundColor:"rgba(255,255,255,0.8)"},".sthx ":{fontSize:"24rpx",marginLeft:"8rpx",flexDirection:"row",alignItems:"flex-end",lineHeight:1,paddingTop:"4rpx",paddingBottom:"4rpx",borderRadius:"8rpx",backgroundColor:"rgba(255,255,255,0.8)"}},import:{".qthx ":{fontSize:"24rpx",fontWeight:"600",color:"#333333"},".sthx ":{fontSize:"24rpx",fontWeight:"600",color:"#333333"}},total:{".qthx ":{fontSize:"24rpx",color:"#333333"},".sthx ":{fontSize:"24rpx",color:"#333333"}},sthx:{"":{paddingTop:"4rpx",paddingBottom:"4rpx",paddingLeft:"8rpx",paddingRight:"8rpx",marginLeft:"24rpx",flexDirection:"row",alignItems:"center",backgroundColor:"#f5fffb",borderRadius:"8rpx"}},btn:{"":{marginTop:"32rpx","//width":100,flex:1,fontWeight:"400",fontSize:"28rpx",color:"#1ec870",height:"76rpx",backgroundColor:"#f4fefa",borderRadius:"38rpx",borderWidth:"2rpx",borderColor:"#1ec870",flexDirection:"row",alignItems:"center",justifyContent:"center"}},"btn-text":{"":{fontSize:"28rpx",color:"#1ec870"}},line:{"":{"//height":40,height:"32rpx",marginLeft:"16rpx",marginRight:"16rpx",borderRightWidth:"4rpx",borderRightColor:"#1ec870"}}},Sn={__name:"index",props:{item:{type:Object,default:()=>({stationName:"",distance:"",address:"",prices:"",quickTotalCount:"",quickAvailableCount:"",slowTotalCount:"",slowAvailableCount:"",parkMode:"",stationCategory:[]})},showTag:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:i}){let n=i,o=e,r={1:"\u505C\u8F66\u514D\u8D39",2:"\u6536\u8D39\u505C\u8F66",3:"\u9650\u65F6\u514D\u8D39\u505C\u8F66"},s=()=>{n("close",!1)},a=(0,t.computed)(()=>r[o.item.parkMode]||""),m=(0,t.computed)(()=>{let{quickAvailableCount:k,slowAvailableCount:O}=o.item;return k>0||O>0?"\u6709\u7A7A\u95F2":"\u65E0\u7A7A\u95F2"}),u=(0,t.computed)(()=>o.item.stationCategory||[]),g=()=>{uni.navigateTo({url:`/pages/siteDetail/index?supplierId=${o.item.supplierId}&powerStationId=${o.item.powerStationId}`})},I=k=>{uni.openLocation({latitude:k.stationLat,longitude:k.stationLng,name:k.stationName,address:k.address})};return(k,O)=>((0,t.openBlock)(),(0,t.createElementBlock)("view",{class:(0,t.normalizeClass)(["station-item",{nmt:!e.showTag}]),onClick:g,renderWhole:!0},[(0,t.createElementVNode)("view",{class:"station-item-head"},[(0,t.createElementVNode)("u-text",{class:"tit"},(0,t.toDisplayString)(e.item.stationName),1),e.showTag?(0,t.createCommentVNode)("",!0):((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"distance",onClick:O[0]||(O[0]=(0,t.withModifiers)(L=>I(e.item),["stop"]))},[(0,t.createElementVNode)("u-image",{class:"triangle",src:"https://file.cheryge.com/IMAGE-File/prod/images/common/dh.png",mode:"aspectFit"}),(0,t.createElementVNode)("u-text",{class:"txt"},(0,t.toDisplayString)(e.item.distance?(0,t.unref)(ft)(e.item.distance):"-"),1)]))]),(0,t.createElementVNode)("view",{class:"station-item-tags"},[u.value.includes(16)?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"s-tag dedicated"},[(0,t.createElementVNode)("u-text",{class:"chery"},"\u5947\u745E"),(0,t.createElementVNode)("u-text",{class:"de"},"\u5185\u90E8\u4E13\u7528")])):(0,t.createCommentVNode)("",!0),a.value?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:1,class:"s-tag primary"},[(0,t.createElementVNode)("u-text",{class:"tag-text"},(0,t.toDisplayString)(a.value),1)])):(0,t.createCommentVNode)("",!0),e.item.placeHolder?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:2,class:"s-tag"},[(0,t.createElementVNode)("u-text",{class:"tag-text"},"\u5360\u4F4D\u8D39")])):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("view",{class:"s-tag"},[(0,t.createElementVNode)("u-text",{class:"tag-text"},(0,t.toDisplayString)(e.item.supplierShortName),1)]),(0,t.createElementVNode)("view",{class:"s-tag"},[(0,t.createElementVNode)("u-text",{class:"tag-text"},(0,t.toDisplayString)(m.value),1)])]),(0,t.createElementVNode)("view",{class:"station-item-num"},[(0,t.createElementVNode)("view",{class:"mon"},[(0,t.createElementVNode)("u-text",{class:"fh"},"\xA5"),(0,t.createElementVNode)("u-text",{class:"price"},(0,t.toDisplayString)(e.item.totalPrice),1),(0,t.createElementVNode)("u-text",{class:"unit"},"/\u5EA6\u8D77")]),(0,t.createElementVNode)("view",{class:"num"},[e.item.quickTotalCount>0?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"qthx"},[(0,t.createElementVNode)("u-text",{class:"l"},"\u5FEB"),(0,t.createElementVNode)("view",{class:"s-n"},[(0,t.createElementVNode)("u-text",{class:"import"},"\u95F2"+(0,t.toDisplayString)(e.item.quickAvailableCount),1),(0,t.createElementVNode)("u-text",{class:"total"},"/"+(0,t.toDisplayString)(e.item.quickTotalCount),1)])])):(0,t.createCommentVNode)("",!0),e.item.slowTotalCount>0?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:1,class:"sthx"},[(0,t.createElementVNode)("u-text",{class:"l"},"\u6162"),(0,t.createElementVNode)("view",{class:"s-n"},[(0,t.createElementVNode)("u-text",{class:"import"},"\u95F2"+(0,t.toDisplayString)(e.item.slowAvailableCount),1),(0,t.createElementVNode)("u-text",{class:"total"},"/"+(0,t.toDisplayString)(e.item.slowTotalCount),1)])])):(0,t.createCommentVNode)("",!0)])]),e.showTag?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"close",style:{},onClick:(0,t.withModifiers)(s,["stop"])},[(0,t.createElementVNode)("u-image",{src:"https://file.cheryge.com/IMAGE-File/prod/images/siteDetail/close2.png",class:"img",mode:"aspectFit"})])):(0,t.createCommentVNode)("",!0),e.showTag?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:1,class:"btn",onClick:O[1]||(O[1]=(0,t.withModifiers)(L=>I(e.item),["stop"]))},[(0,t.createElementVNode)("u-image",{src:"https://file.cheryge.com/IMAGE-File/prod/images/siteDetail/navigation2.png",class:"img",mode:"aspectFit"}),(0,t.createElementVNode)("u-text",{class:"btn-text"},(0,t.toDisplayString)(e.item.distance?(0,t.unref)(ft)(e.item.distance):"-"),1),(0,t.createElementVNode)("view",{class:"line"}),(0,t.createElementVNode)("u-text",{class:"btn-text"},"\u5BFC\u822A")])):(0,t.createCommentVNode)("",!0)],2))}},St=F(Sn,[["styles",[bn]]]),$n={"charge-list":{"":{paddingLeft:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",flex:1,flexDirection:"column",backgroundColor:"#f5f5f5"}},"charge-list-header":{"":{marginBottom:"20rpx",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},left:{"":{flexDirection:"row",alignItems:"center",flex:1,marginRight:"20rpx",paddingTop:"12rpx",paddingRight:"32rpx",paddingBottom:"12rpx",paddingLeft:"32rpx",backgroundColor:"#ffffff",borderRadius:"8rpx"}},search:{"":{width:"32rpx",height:"32rpx"}},placeholder:{"":{marginLeft:"16rpx",fontSize:"28rpx",color:"#e0e0e0",lineHeight:"40rpx"}},right:{"":{flexDirection:"row",alignItems:"center",justifyContent:"flex-end"}},"s-txt":{"":{marginLeft:"2rpx",fontSize:"28rpx",color:"#1ec870",lineHeight:"44rpx"}},cate:{"":{width:"32rpx",height:"32rpx"}},"fast-btn-wrap":{"":{marginBottom:"20rpx",flexDirection:"row",alignItems:"center"}},"fast-btn-item":{"":{backgroundColor:"#ffffff",borderRadius:"4rpx",marginTop:0,marginRight:"16rpx",marginBottom:0,marginLeft:0,paddingTop:"8rpx",paddingRight:"12rpx",paddingBottom:"8rpx",paddingLeft:"12rpx",lineHeight:"52rpx",fontWeight:"400",fontSize:"24rpx","marginRight:last-child":0},".active":{backgroundColor:"#f4fff9"}},"btn-text":{"":{fontSize:"24rpx"}},"car-wrap":{"":{marginBottom:"20rpx",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingTop:"16rpx",paddingBottom:"16rpx",paddingLeft:"20rpx",paddingRight:"20rpx",backgroundColor:"#1dce72",borderRadius:"16rpx"}},text:{"":{flex:1}},"text-content":{"":{fontSize:"24rpx",color:"#ffffff",lineHeight:"34rpx"}},war:{"":{flexDirection:"row",alignItems:"center",justifyContent:"flex-end"}},"war-text":{"":{fontSize:"24rpx",color:"#ffffff",lineHeight:"34rpx"}},wbt:{"":{width:"32rpx",height:"34rpx",marginLeft:"4rpx"}},"charge-list-scroll":{"":{flex:1,backgroundColor:"#ffffff",borderTopLeftRadius:"16rpx",borderTopRightRadius:"16rpx",borderBottomRightRadius:"0rpx",borderBottomLeftRadius:"0rpx"}},"scroll-view":{"":{flex:1,backgroundColor:"#f5f5f5"}},con:{"":{backgroundColor:"#f5f5f5"}},"no-data":{"":{flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:"56rpx"}},img:{"":{marginBottom:"8rpx",width:"190rpx",height:"110rpx"}},txt:{"":{fontWeight:"500",fontSize:"24rpx",color:"#999999"}},"empty-space-item":{"":{backgroundColor:"rgba(0,0,0,0)",marginBottom:120}}},kn={__name:"ChargeList",props:{list:{type:Array,default:()=>[]},address:{type:String,default:""},finished:{type:Boolean,default:!1}},emits:["showDetail","init","scrollLink"],setup(e,{emit:i}){let n=[{label:"\u8DDD\u79BB\u6392\u5E8F",value:1,key:"sort",isMultiple:!1},{label:"\u4EF7\u683C\u6392\u5E8F",value:2,key:"sort",isMultiple:!1},{label:"\u76F4\u6D41\u5FEB\u5145",value:2,key:"chargeModeType",isMultiple:!0},{label:"\u4EA4\u6D41\u6162\u5145",value:4,key:"chargeModeType",isMultiple:!0},{label:"\u514D\u8D39\u505C\u8F66",value:1,key:"parkModeType",isMultiple:!1}],o=(0,t.ref)(null),r=Ee(),{cateObj:s}=(0,Q.storeToRefs)(r),a=ae(),{isLogin:m,plateNumber:u,userInfo:g}=(0,Q.storeToRefs)(a),{windowHeight:I}=uni.getSystemInfoSync(),k=i,O=(0,t.computed)(()=>(s.value.radius[0]/1e3).toFixed(0)),L=(0,t.computed)(()=>`${I*.85-174}px`),P=()=>{uni.navigateTo({url:"/pages/cate/index"})},B=()=>{uni.navigateTo({url:"/pages/search/index"})},Z=()=>{if(!m.value)return uni.navigateTo({url:"/pages/login/index"});let $=g.value.defaultLicensePlate?"vehicleManage":"addVehicle";uni.navigateTo({url:`/pages_other/${$}/index`})},W=$=>{s.value[$.key].includes($.value)?s.value[$.key]=s.value[$.key].filter(v=>$.value!=v):$.isMultiple?s.value[$.key].push($.value):s.value[$.key]=[$.value],k("init")},ie=$=>s.value[$.key].includes($.value)?"active":"",G=$=>{k("showDetail",$)},Y=$=>{$&&($.stopPropagation(),$.preventDefault())},H=$=>{let{contentOffset:X,isDragging:v}=$,{y:c}=X;J.value=c,o.value&&o.value.handleOnScroll($)},N=(0,t.ref)(0),U=(0,t.computed)(()=>J.value<0?64:I*.85),J=(0,t.ref)(0),V=$=>{N.value=$},A=(0,t.computed)(()=>!0),_=(0,t.ref)(null);return($,X)=>{let v=q((0,t.resolveDynamicComponent)("bab-Touchbox"),hn);return(0,t.openBlock)(),(0,t.createBlock)(v,{minHeight:.4,maxHeight:.85,touchHeight:U.value,onCurrentHeight:V,ref_key:"touchboxRef",ref:o},{default:(0,t.withCtx)(()=>[(0,t.createElementVNode)("view",{class:"charge-list"},[(0,t.createElementVNode)("view",{class:"charge-list-header"},[(0,t.createElementVNode)("view",{class:"left",onClick:B},[(0,t.createElementVNode)("u-image",{class:"search",src:"https://file.cheryge.com/IMAGE-File/prod/images/common/search.png",mode:"aspectFit"}),(0,t.createElementVNode)("u-text",{class:"placeholder"},"\u641C\u7D22\u5145\u7535\u7AD9")]),(0,t.createElementVNode)("view",{class:"right"},[(0,t.createElementVNode)("u-image",{src:"https://file.cheryge.com/IMAGE-File/prod/images/common/sx.png",class:"cate",mode:"aspectFit"}),(0,t.createElementVNode)("u-text",{class:"s-txt",onClick:P},"\u7B5B\u9009")])]),(0,t.createElementVNode)("view",{class:"fast-btn-wrap"},[((0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(n,(c,d)=>(0,t.createElementVNode)("view",{class:(0,t.normalizeClass)(["fast-btn-item",ie(c)]),key:d,onClick:h=>W(c)},[(0,t.createElementVNode)("u-text",{class:"btn-text",style:(0,t.normalizeStyle)({color:ie(c)==="active"?"#1ec870":"#666666"})},(0,t.toDisplayString)(c.label),5)],10,["onClick"])),64))]),(0,t.createElementVNode)("view",{class:"car-wrap"},[(0,t.createElementVNode)("view",{class:"text"},[(0,t.unref)(g).defaultLicensePlate?((0,t.openBlock)(),(0,t.createElementBlock)("u-text",{key:1,class:"text-content"}," \u5E38\u7528\u5145\u7535\u8F66\u8F86\uFF1A"+(0,t.toDisplayString)((0,t.unref)(u)),1)):((0,t.openBlock)(),(0,t.createElementBlock)("u-text",{key:0,class:"text-content"}," \u5145\u7535\u524D\u7ED1\u5B9A\u8F66\u724C\u53F7\uFF0C\u90E8\u5206\u573A\u7AD9\u53EF\u4EAB\u53D7\u51CF\u514D\u505C\u8F66\u8D39 "))]),(0,t.createElementVNode)("view",{class:"war",onClick:Z},[(0,t.createElementVNode)("u-text",{class:"war-text"},(0,t.toDisplayString)((0,t.unref)(g).defaultLicensePlate?"\u53BB\u5207\u6362":"\u53BB\u7ED1\u5B9A"),1),(0,t.createElementVNode)("u-image",{class:"wbt",src:"https://file.cheryge.com/IMAGE-File/prod/images/common/wjt.png",mode:"aspectFit"})])]),(0,t.createElementVNode)("view",{class:"charge-list-scroll"},[(0,t.createElementVNode)("list",{class:"scroll-view",ref_key:"listRef",ref:_,style:(0,t.normalizeStyle)({height:L.value}),enableBackToTop:"true",showScrollbar:"false",offsetAccuracy:.01,bounce:!1,scrollable:A.value,onScroll:H},[e.list.length==0&&e.finished?((0,t.openBlock)(),(0,t.createElementBlock)("cell",{key:0},[(0,t.createElementVNode)("view",{class:"no-data"},[(0,t.createElementVNode)("u-image",{class:"img",src:"https://file.cheryge.com/IMAGE-File/prod/images/icon/ndz.png",mode:"aspectFit"}),(0,t.createElementVNode)("u-text",{class:"txt"},"\u9644\u8FD1"+(0,t.toDisplayString)(O.value)+"km\u6682\u65E0\u7AD9\u70B9",1)])])):((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,{key:1},(0,t.renderList)(e.list,(c,d)=>((0,t.openBlock)(),(0,t.createElementBlock)("cell",{key:d},[(0,t.createVNode)((0,t.unref)(St),{item:c,showTag:!1,onShowDetail:G,onClose:Y},null,8,["item"])]))),128)),(0,t.createElementVNode)("cell",{class:"empty-space-item",style:{height:"128px"}})],44,["scrollable"])])])]),_:1},8,["touchHeight"])}}},Cn=F(kn,[["styles",[$n]]]);function _n(e="rgb(0, 0, 0)",i="rgb(255, 255, 255)",n=10){let o=pt(e,!1),r=o[0],s=o[1],a=o[2],m=pt(i,!1),u=m[0],g=m[1],I=m[2],k=(u-r)/n,O=(g-s)/n,L=(I-a)/n,P=[];for(let B=0;B<n;B++){let Z=ze(`rgb(${Math.round(k*B+r)},${Math.round(O*B+s)},${Math.round(L*B+a)})`);B===0&&(Z=ze(e)),B===n-1&&(Z=ze(i)),P.push(Z)}return P}function pt(e,i=!0){let n=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(e=String(e).toLowerCase(),e&&n.test(e)){if(e.length===4){let r="#";for(let s=1;s<4;s+=1)r+=e.slice(s,s+1).concat(e.slice(s,s+1));e=r}let o=[];for(let r=1;r<7;r+=2)o.push(parseInt(`0x${e.slice(r,r+2)}`));return i?`rgb(${o[0]},${o[1]},${o[2]})`:o}return/^(rgb|RGB)/.test(e)?e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",").map(r=>Number(r)):e}function ze(e){let i=e,n=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(/^(rgb|RGB)/.test(i)){let o=i.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),r="#";for(let s=0;s<o.length;s++){let a=Number(o[s]).toString(16);a=String(a).length==1?`0${a}`:a,a==="0"&&(a+=a),r+=a}return r.length!==7&&(r=i),r}if(n.test(i)){let o=i.replace(/#/,"").split("");if(o.length===6)return i;if(o.length===3){let r="#";for(let s=0;s<o.length;s+=1)r+=o[s]+o[s];return r}}else return i}var Tn={props:E({show:{type:Boolean,default:!0},color:{type:String,default:"#909193"},textColor:{type:String,default:"#909193"},vertical:{type:Boolean,default:!1},mode:{type:String,default:"spinner"},size:{type:[String,Number],default:24},textSize:{type:[String,Number],default:15},textStyle:{type:Object,default(){return{}}},text:{type:[String,Number],default:""},timingFunction:{type:String,default:"linear"},duration:{type:[String,Number],default:1200},inactiveColor:{type:String,default:""}},(at=(st=uni.$uv)==null?void 0:st.props)==null?void 0:at.loadingIcon)},In={"uv-loading-icon":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center",color:"#c8c9cc"}},"uv-loading-icon__text":{"":{marginLeft:4,color:"#606266",fontSize:14,lineHeight:20}},"uv-loading-icon__spinner":{"":{width:30,height:30,position:"relative"}},"uv-loading-icon__spinner--semicircle":{"":{borderWidth:2,borderColor:"rgba(0,0,0,0)",borderTopRightRadius:100,borderTopLeftRadius:100,borderBottomLeftRadius:100,borderBottomRightRadius:100,borderStyle:"solid"}},"uv-loading-icon__spinner--circle":{"":{borderTopRightRadius:100,borderTopLeftRadius:100,borderBottomLeftRadius:100,borderBottomRightRadius:100,borderWidth:2,borderTopColor:"#e5e5e5",borderRightColor:"#e5e5e5",borderBottomColor:"#e5e5e5",borderLeftColor:"#e5e5e5",borderStyle:"solid"}},"uv-loading-icon--vertical":{"":{flexDirection:"column"}}},Mn=weex.requireModule("animation"),Ln={name:"uv-loading-icon",mixins:[ee,te,Tn],data(){return{array12:Array.from({length:12}),aniAngel:360,webviewHide:!1,loading:!1}},computed:{otherBorderColor(){let e=_n(this.color,"#ffffff",100)[80];return this.mode==="circle"?this.inactiveColor?this.inactiveColor:e:"transparent"}},watch:{show(e){e&&!this.loading&&setTimeout(()=>{this.startAnimate()},30)}},mounted(){this.init()},methods:{init(){setTimeout(()=>{this.show&&this.nvueAnimate(),this.show&&this.addEventListenerToWebview()},20)},addEventListenerToWebview(){let e=getCurrentPages(),n=e[e.length-1].$getAppWebview();n.addEventListener("hide",()=>{this.webviewHide=!0}),n.addEventListener("show",()=>{this.webviewHide=!1})},nvueAnimate(){this.mode!=="spinner"&&this.startAnimate()},startAnimate(){this.loading=!0;let e=this.$refs.ani;e&&Mn.transition(e,{styles:{transform:`rotate(${this.aniAngel}deg)`,transformOrigin:"center center"},duration:this.duration,timingFunction:this.timingFunction},()=>{this.aniAngel+=360,this.show&&!this.webviewHide?this.startAnimate():this.loading=!1})}}};function An(e,i,n,o,r,s){return e.show?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:(0,t.normalizeClass)(["uv-loading-icon",[e.vertical&&"uv-loading-icon--vertical"]]),style:(0,t.normalizeStyle)([e.$uv.addStyle(e.customStyle)]),renderWhole:!0},[r.webviewHide?(0,t.createCommentVNode)("",!0):((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:(0,t.normalizeClass)(["uv-loading-icon__spinner",[`uv-loading-icon__spinner--${e.mode}`]]),ref:"ani",style:(0,t.normalizeStyle)({color:e.color,width:e.$uv.addUnit(e.size),height:e.$uv.addUnit(e.size),borderTopColor:e.color,borderBottomColor:s.otherBorderColor,borderLeftColor:s.otherBorderColor,borderRightColor:s.otherBorderColor,"animation-duration":`${e.duration}ms`,"animation-timing-function":e.mode==="semicircle"||e.mode==="circle"?e.timingFunction:""})},[e.mode==="spinner"?((0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,{key:0},[r.webviewHide?(0,t.createCommentVNode)("",!0):((0,t.openBlock)(),(0,t.createElementBlock)("loading-indicator",{key:0,class:"uv-loading-indicator",animating:!0,style:(0,t.normalizeStyle)({color:e.color,width:e.$uv.addUnit(e.size),height:e.$uv.addUnit(e.size)})},null,4))],64)):(0,t.createCommentVNode)("",!0)],6)),e.text?((0,t.openBlock)(),(0,t.createElementBlock)("u-text",{key:1,class:"uv-loading-icon__text",style:(0,t.normalizeStyle)([{fontSize:e.$uv.addUnit(e.textSize),color:e.textColor},e.$uv.addStyle(e.textStyle)])},(0,t.toDisplayString)(e.text),5)):(0,t.createCommentVNode)("",!0)],6)):(0,t.createCommentVNode)("",!0)}var zn=F(Ln,[["render",An],["styles",[In]]]),Rn=(0,t.defineComponent)({__name:"MapContent",props:{markers:{type:Array,default:()=>[]},points:{type:Array,default:()=>[]},loaded:{type:Boolean,default:!1},hg:{type:Number,default:0},showStation:{type:Boolean,default:!1}},emits:["init","markerChange","polyChange","reset"],setup(e,{expose:i,emit:n}){let o=Ee(),r=ae(),{isLogin:s}=(0,Q.storeToRefs)(r);(0,t.ref)(uni.$uv.os()),(0,t.computed)(()=>({width:`${g}px`,height:`${u}px`,position:"relative"}));let{locationInfo:a,cateObj:m}=(0,Q.storeToRefs)(o),{windowHeight:u,windowWidth:g}=uni.getSystemInfoSync(),I=(0,t.computed)(()=>a.value.lat||39.9042),k=(0,t.computed)(()=>a.value.lon||116.4074);(0,t.watch)([I,k],([l,p],[S,R])=>{C("log","at pages/index/components/MapContent.nvue:72","\u5730\u56FE\u5750\u6807\u53D8\u5316:",{newLat:l,newLng:p,oldLat:S,oldLng:R}),l&&p&&(l!==S||p!==R)&&(0,t.nextTick)(()=>{C("log","at pages/index/components/MapContent.nvue:76","\u5730\u56FE\u4F4D\u7F6E\u5DF2\u66F4\u65B0\u5230:",l,p)})},{immediate:!0});let O=(0,t.computed)(()=>({width:`${g}px`,height:`${u}px`,position:"relative"})),L=(0,t.computed)(()=>({width:`${g}px`,height:`${u}px`}));(0,t.computed)(()=>({top:`${u/2}px`,left:`${g/2}px`}));let P=(0,t.computed)(()=>({right:"16rpx",bottom:`${u/4+126}px`})),B=(0,t.computed)(()=>({right:"16rpx",bottom:`${u/4+174}px`})),Z=(0,t.computed)(()=>({left:`${g/2}px`,bottom:`${u/4+126}px`,transform:"translateX(-50%)"})),W=(0,t.ref)(null),ie=(0,t.ref)(null),G=(0,t.ref)(!1),Y=(0,t.ref)(13),H=(0,t.ref)({id:"",powerStationId:"",slowTotalCount:0,quickAvailableCount:0,quickTotalCount:0,slowAvailableCount:0}),N=e,U=n,J=(0,t.ref)([{id:1,position:{left:g/2-9,top:u/2-36,width:18,height:36},iconPath:"https://file.cheryge.com/IMAGE-File/prod/images/common/ln.png",clickable:!1}]),V=(0,t.ref)([{color:"rgba(185, 236, 218, 1)",fillColor:"rgba(185, 236, 218, 0.21)",latitude:"",longitude:"",radius:m.value.radius[0],strokeWidth:1}]),A=(l,p)=>{let S=[...V.value];S[0].latitude=l,S[0].longitude=p,V.value=S},_=(0,t.computed)(()=>{let l=[];if(c.value)N.markers.forEach((p,S)=>{let R=`${p.slowTotalCount+p.quickTotalCount}`,M=H.value.powerStationId==p.powerStationId,D=`\u7A7A${H.value.quickAvailableCount+H.value.slowAvailableCount}/\u603B${H.value.slowTotalCount+H.value.quickTotalCount}`;l.push({id:S,latitude:p.stationLat,longitude:p.stationLng,iconPath:`https://file.cheryge.com/IMAGE-File/prod/images/common/${M?"nc":"marker"}.png`,width:M?48:34,height:M?52:36,label:{anchorX:M?-(.45*(D.length*12)):-(.3*(R.length*12)),anchorY:M?-82:-28,color:M?"#1ec870":"#fff",bgColor:M?"#fff":"#1ec870",borderRadius:M?"12":0,padding:M?"6":0,content:M?D:R,textAlign:"center",fontSize:12},customCallout:{anchorY:0,anchorX:0,display:M?"ALWAYS":"BYCLICK"}})});else{let p="";N.points.forEach((S,R)=>{p=wn(S.connectorNum),l.push({id:uni.$uv.guid(),latitude:S.lat,longitude:S.lng,iconPath:"https://file.cheryge.com/IMAGE-File/prod/images/icon/jh.png",width:30,height:32,label:{anchorX:-(.3*(p.length*12)),anchorY:-26,color:"#000",content:p,textAlign:"center",fontSize:12}})})}return l}),$=()=>{try{let l=uni.getStorageSync(ve);if(l&&l.latitude&&l.longitude)return{latitude:parseFloat(l.latitude),longitude:parseFloat(l.longitude),timestamp:l.timestamp||Date.now()}}catch(l){C("error","at pages/index/components/MapContent.nvue:261","\u83B7\u53D6\u7F13\u5B58\u4F4D\u7F6E\u5931\u8D25:",l)}return null},X=(l,p)=>{try{let S={latitude:l,longitude:p,timestamp:Date.now()};uni.setStorageSync(ve,S)}catch(S){C("error","at pages/index/components/MapContent.nvue:275","\u4FDD\u5B58\u4F4D\u7F6E\u5230\u7F13\u5B58\u5931\u8D25:",S)}},v=l=>{if(!l||!l.latitude||!l.longitude)return!1;let{latitude:p,longitude:S}=l;if(p<3.86||p>53.55||S<73.66||S>135.05)return C("log","at pages/index/components/MapContent.nvue:287","\u4F4D\u7F6E\u8D85\u51FA\u4E2D\u56FD\u8303\u56F4\uFF0C\u89C6\u4E3A\u65E0\u6548"),!1;let R=Date.now(),M=l.timestamp||0,D=24*60*60*1e3;return R-M>D?(C("log","at pages/index/components/MapContent.nvue:297","\u4F4D\u7F6E\u7F13\u5B58\u5DF2\u8FC7\u671F"),!1):!0};Ie(l=>j(this,null,function*(){})),(0,t.onMounted)(()=>{W.value=uni.createMapContext("map");let l=$();l&&v(l)?(C("log","at pages/index/components/MapContent.nvue:311","\u7EC4\u4EF6\u6302\u8F7D\u65F6\u4F7F\u7528\u7F13\u5B58\u4F4D\u7F6E:",l),T(l.latitude,l.longitude)):C("log","at pages/index/components/MapContent.nvue:314","\u7F13\u5B58\u4F4D\u7F6E\u65E0\u6548"),f(),uni.$on("setLocation",p=>{T(p.lat,p.lng)})}),Me(()=>{uni.$off("setLocation",()=>{})});let c=(0,t.computed)(()=>a.value.mapScale<5e3),d=l=>{G.value=l},h=()=>j(this,null,function*(){W.value.getCenterLocation({success:l=>{if(l.errMsg=="getMapCenterLocation:ok"){let{latitude:p,longitude:S}=l;a.value.lat=p,a.value.lon=S,o.setUserLocation({lat:p,lng:S}),A(p,S),U("init")}}})}),f=()=>{uni.getLocation({type:"gcj02",isHighAccuracy:!1,geocode:!1,success:l=>{let{latitude:p,longitude:S}=l;T(p,S),X(p,S)},fail:()=>{C("log","at pages/index/components/MapContent.nvue:366","\u5B9A\u4F4D\u5931\u8D25\uFF0C\u5C1D\u8BD5\u4F7F\u7528\u7F13\u5B58\u4F4D\u7F6E");let l=$();l?(C("log","at pages/index/components/MapContent.nvue:370","\u4F7F\u7528\u5907\u7528\u7F13\u5B58\u4F4D\u7F6E",l),T(l.latitude,l.longitude)):h()}})},y=l=>j(this,null,function*(){let{causedBy:p,type:S}=l.detail;C("log","at pages/index/components/MapContent.nvue:381","------regionChange",l),p!="update"&&S=="end"&&W.value.getScale({success:R=>{R.errMsg=="getScale:ok"&&(a.value.mapScale=Ae(Math.floor(R.scale)),C("log","at pages/index/components/MapContent.nvue:405","------mapScale",R.scale,Ae(Math.floor(R.scale))),W.value.getRegion({success:M=>{M.errMsg=="getRegion:ok"&&(a.value.minLon=M.southwest.longitude,a.value.maxLon=M.northeast.longitude,a.value.minLat=M.southwest.latitude,a.value.maxLat=M.northeast.latitude,W.value.getCenterLocation({success:D=>{if(D.errMsg=="getCenterLocation:ok"){let{latitude:K,longitude:ne}=D;a.value.lat=K,a.value.lon=ne,C("log","at pages/index/components/MapContent.nvue:419","------getCenterLocation",K,ne,c.value),c.value?U("markerChange"):U("polyChange")}}}))}}))}}),(p=="scale"&&S=="end"||p=="drag"&&S=="end")&&(G.value=!0)}),w=l=>{if(C("log","at pages/index/components/MapContent.nvue:445","\u70B9\u51FB\u56FE\u6807",l),c.value&&l.type=="markertap"){H.value=E({},N.markers[l.detail.markerId]),H.value.id=l.detail.markerId;let p=N.markers[l.detail.markerId];uni.$emit("show",de(E({},p),{type:!1}))}},T=(l,p)=>j(this,null,function*(){A(l,p),a.value.lat=l,a.value.lon=p;let S={latitude:l,longitude:p};o.setUserLocation(S),X(l,p);try{W.value.getScale({success:R=>{Y.value=R.scale,a.value.mapScale=Ae(Math.floor(Y.value)),(0,t.nextTick)(()=>j(this,null,function*(){Y.value=13}))}}),W.value.moveToLocation({latitude:l,longitude:p,complete:()=>{C("log","at pages/index/components/MapContent.nvue:480","\u5730\u56FE\u5DF2\u79FB\u52A8\u5230\u65B0\u4F4D\u7F6E:",l,p),U("init")}})}catch(R){}}),z=()=>{A(a.value.lat,a.value.lon),U("reset")},b=()=>{if(!s.value)return uni.navigateTo({url:"/pages/login/index"});uni.navigateTo({url:"/pages_route/search/index"})};return(0,t.watch)(()=>N.showStation,l=>{l&&(H.value.id="",H.value.powerStationId="")}),i({setLocation:T,changeShowRefresh:d,resetReco:z,clearLocationCache:()=>{try{uni.removeStorageSync(ve),C("log","at pages/index/components/MapContent.nvue:516","\u4F4D\u7F6E\u7F13\u5B58\u5DF2\u6E05\u9664")}catch(l){C("error","at pages/index/components/MapContent.nvue:518","\u6E05\u9664\u4F4D\u7F6E\u7F13\u5B58\u5931\u8D25:",l)}}}),(l,p)=>{let S=q((0,t.resolveDynamicComponent)("uv-loading-icon"),zn);return(0,t.openBlock)(),(0,t.createElementBlock)("div",{style:(0,t.normalizeStyle)(O.value)},[(0,t.createElementVNode)("map",{ref_key:"qrMap",ref:ie,id:"map",style:(0,t.normalizeStyle)(L.value),latitude:I.value,longitude:k.value,markers:_.value,circles:V.value,showLocation:"",controls:J.value,scale:Y.value,onRegionchange:y,onMarkertap:w},[e.showStation?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"location",style:(0,t.normalizeStyle)(P.value),onClick:(0,t.withModifiers)(f,["stop"])},[(0,t.createElementVNode)("u-image",{class:"location-img",src:"https://file.cheryge.com/IMAGE-File/prod/images/common/dwi.png"})],4)):(0,t.createCommentVNode)("",!0),e.showStation?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:1,class:"location route",style:(0,t.normalizeStyle)(B.value),onClick:(0,t.withModifiers)(b,["stop"])},[(0,t.createElementVNode)("u-image",{class:"location-img",src:"https://file.cheryge.com/IMAGE-File/prod/images/icon/jt.png"})],4)):(0,t.createCommentVNode)("",!0),G.value&&c.value&&e.showStation?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:2,class:"refresh-wrap",style:(0,t.normalizeStyle)(Z.value)},[e.loaded?((0,t.openBlock)(),(0,t.createBlock)(S,{key:0,show:"",mode:"circle",textColor:"#fff",size:"14",textSize:"14",text:"\u6B63\u5728\u63A8\u8350\u4E2D\u2026"})):((0,t.openBlock)(),(0,t.createElementBlock)("u-text",{key:1,class:"txt",onClick:(0,t.withModifiers)(z,["stop"])},"\u91CD\u65B0\u63A8\u8350"))],4)):(0,t.createCommentVNode)("",!0)],44,["latitude","longitude","markers","circles","controls","scale"])],4)}}}),Dn={map:{"":{width:100,height:100}},"center-icon":{"":{position:"absolute",width:"36rpx",height:"66rpx",marginLeft:"-18rpx",marginTop:"-33rpx",zIndex:10}},location:{"":{position:"absolute",width:"72rpx",height:"72rpx",backgroundColor:"#ffffff",borderRadius:"8rpx",justifyContent:"center",alignItems:"center",boxShadow:"0 0 12rpx rgba(30, 200, 112, 0.2)",zIndex:999},".route":{position:"absolute",width:"72rpx",height:"72rpx",backgroundColor:"#ffffff",borderRadius:"8rpx",justifyContent:"center",alignItems:"center",boxShadow:"0 0 12rpx rgba(30, 200, 112, 0.2)",zIndex:999}},"location-img":{"":{width:"48rpx",height:"48rpx"}},"refresh-wrap":{"":{position:"absolute",paddingTop:"16rpx",paddingRight:"32rpx",paddingBottom:"16rpx",paddingLeft:"32rpx",backgroundColor:"#323238",borderRadius:"32rpx",zIndex:999}},txt:{".refresh-wrap ":{fontSize:"28rpx",color:"#ffffff",textAlign:"center"}},marker:{"":{minWidth:"125rpx",borderRadius:"24rpx",paddingTop:"8rpx",paddingBottom:"8rpx",paddingLeft:"16rpx",paddingRight:"16rpx",fontSize:"18rpx",lineHeight:"36rpx",color:"#00b768",backgroundColor:"#ffffff",borderWidth:"3rpx",borderColor:"#1ec870",borderStyle:"solid",textAlign:"center",zIndex:1e3}}},On=F(Rn,[["styles",[Dn]]]),Pn={slide:{"":{position:"relative",marginBottom:"8rpx",flex:1,flexDirection:"column"}},icon:{"":{position:"absolute",right:"16rpx",top:"16rpx",zIndex:9999}},"icon-img":{"":{width:"32rpx",height:"32rpx"}},"cover-img":{"":{height:"144rpx",flex:1}},"img-one":{"":{borderRadius:"16rpx"}},"swiper-image":{"":{width:100,height:"144rpx"}}},Hn={__name:"index",props:{height:{default:72},width:{default:()=>"100%"},showClose:{default:!0},list:{type:Array,default:()=>[]},show:{default:!0}},setup(e){let i=(0,t.ref)(0),n=ae(),o=e,r=(0,t.computed)(()=>{let u=[];return o.list.forEach(g=>{u.push(g.pic)}),C("log","at components/SlideCard/index.vue:88","okllll",u),u}),s=u=>{i.value=u.current},a=u=>{C("log","at components/SlideCard/index.vue:98","indexxxx",u);let g=typeof u=="number"?u:i.value,I=o.list[g];I&&(I.login==1?uni.navigateTo({url:`${I.url}`}):I.login==0&&(C("log","at components/SlideCard/index.vue:110","needLogin"),n.isLogin?uni.navigateTo({url:I.url}):uni.navigateTo({url:`/pages/login/index?advertUrl=${I.url}`})))},m=()=>{se().homeSlideFixed(!1)};return(u,g)=>{let I=(0,t.resolveComponent)("swiper-item"),k=(0,t.resolveComponent)("swiper");return e.show?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"slide",renderWhole:!0},[(0,t.unref)(r).length>1?((0,t.openBlock)(),(0,t.createBlock)(k,{key:0,class:"swiper",circular:"",autoplay:!0,interval:4e3,duration:500,style:{height:"144rpx"},onChange:s,onItemclick:a,"indicator-color":"rgba(255,255,255,0.35)","indicator-active-color":"rgba(0,0,0,0.5)"},{default:(0,t.withCtx)(()=>[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)((0,t.unref)(r),(O,L)=>((0,t.openBlock)(),(0,t.createBlock)(I,{key:L},{default:(0,t.withCtx)(()=>[(0,t.createElementVNode)("u-image",{src:O,class:"swiper-image",mode:"aspectFill"},null,8,["src"])]),_:2},1024))),128))]),_:1})):(0,t.createCommentVNode)("",!0),e.list.length==1?((0,t.openBlock)(),(0,t.createElementBlock)("u-image",{key:1,src:e.list[0].pic,class:"cover-img img-one",onClick:g[0]||(g[0]=O=>a(0)),mode:"aspectFill"},null,8,["src"])):(0,t.createCommentVNode)("",!0),e.showClose?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:2,class:"icon"},[(0,t.createElementVNode)("u-image",{class:"icon-img",src:"https://file.cheryge.com/IMAGE-File/prod/images/activity/closeBlack.png",onClick:m})])):(0,t.createCommentVNode)("",!0)])):(0,t.createCommentVNode)("",!0)}}},Nn=F(Hn,[["styles",[Pn]]]),Bn=me("animation"),be=class{constructor(i,n){this.options=i,this.animation=uni.createAnimation(E({},i)),this.currentStepAnimates={},this.next=0,this.$=n}_nvuePushAnimates(i,n){let o=this.currentStepAnimates[this.next],r={};if(o?r=o:r={styles:{},config:{}},$t.includes(i)){r.styles.transform||(r.styles.transform="");let s="";i==="rotate"&&(s="deg"),r.styles.transform+=`${i}(${n+s}) `}else r.styles[i]=`${n}`;this.currentStepAnimates[this.next]=r}_animateRun(i={},n={}){let o=this.$.$refs.ani.ref;if(o)return new Promise((r,s)=>{Bn.transition(o,E({styles:i},n),a=>{r()})})}_nvueNextAnimate(i,n=0,o){let r=i[n];if(r){let{styles:s,config:a}=r;this._animateRun(s,a).then(()=>{n+=1,this._nvueNextAnimate(i,n,o)})}else this.currentStepAnimates={},typeof o=="function"&&o(),this.isEnd=!0}step(i={}){return this.currentStepAnimates[this.next].config=Object.assign({},this.options,i),this.currentStepAnimates[this.next].styles.transformOrigin=this.currentStepAnimates[this.next].config.transformOrigin,this.next++,this}run(i){this.isEnd=!1,this.$.$refs.ani&&this.$.$refs.ani.ref&&(this._nvueNextAnimate(this.currentStepAnimates,0,i),this.next=0)}},$t=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"],En=["opacity","backgroundColor"],Fn=["width","height","left","right","top","bottom"];$t.concat(En,Fn).forEach(e=>{be.prototype[e]=function(...i){return this._nvuePushAnimates(e,i),this}});function ht(e,i){if(i)return clearTimeout(i.timer),new be(e,i)}var jn={name:"uv-transition",mixins:[ee,te],emits:["click","change"],props:{show:{type:Boolean,default:!1},mode:{type:[Array,String,null],default(){return"fade"}},duration:{type:[String,Number],default:300},timingFunction:{type:String,default:"ease-out"},customClass:{type:String,default:""},cellChild:{type:Boolean,default:!1}},data(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{transformStyles(){let e=de(E({transform:this.transform,opacity:this.opacity},this.$uv.addStyle(this.customStyle)),{"transition-duration":`${this.duration/1e3}s`});return this.$uv.addStyle(e,"string")}},created(){this.config={duration:this.duration,timingFunction:this.timingFunction,transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=ht(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,i={}){if(this.animation){for(let n in e)try{typeof e[n]=="object"?this.animation[n](...e[n]):this.animation[n](e[n])}catch(o){console.error(`\u65B9\u6CD5 ${n} \u4E0D\u5B58\u5728`)}return this.animation.step(i),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:i}=this.styleInit(!1);typeof e!="undefined"&&(this.opacity=e),this.transform=i,this.$nextTick(()=>{this.timer=setTimeout(()=>{this.animation=ht(this.config,this),this.tranfromInit(!1).step(),this.cellChild?this.opacity=1:this.animation.run(),this.$emit("change",{detail:this.isShow})},20)})},close(e){this.animation&&this.tranfromInit(!0).step().run(()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:i,transform:n}=this.styleInit(!1);this.opacity=i||1,this.transform=n,this.$emit("change",{detail:this.isShow})})},styleInit(e){let i={transform:""},n=(o,r)=>{r==="fade"?i.opacity=this.animationType(o)[r]:i.transform+=this.animationType(o)[r]+" "};return typeof this.mode=="string"?n(e,this.mode):this.mode.forEach(o=>{n(e,o)}),i},tranfromInit(e){let i=(n,o)=>{let r=null;o==="fade"?r=n?0:1:(r=n?"-100%":"0",o==="zoom-in"&&(r=n?.8:1),o==="zoom-out"&&(r=n?1.2:1),o==="slide-right"&&(r=n?"100%":"0"),o==="slide-bottom"&&(r=n?"100%":"0")),this.animation[this.animationMode()[o]](r)};return typeof this.mode=="string"?i(e,this.mode):this.mode.forEach(n=>{i(e,n)}),this.animation},animationType(e){return{fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}},animationMode(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}};function Wn(e,i,n,o,r,s){return r.isShow?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,ref:"ani",animation:r.animationData,class:(0,t.normalizeClass)(n.customClass),style:(0,t.normalizeStyle)(s.transformStyles),onClick:i[0]||(i[0]=(...a)=>s.onClick&&s.onClick(...a)),renderWhole:!0},[(0,t.renderSlot)(e.$slots,"default")],14,["animation"])):(0,t.createCommentVNode)("",!0)}var kt=F(jn,[["render",Wn]]),Gn={props:E({show:{type:Boolean,default:!1},zIndex:{type:[String,Number],default:10070},duration:{type:[String,Number],default:300},opacity:{type:[String,Number],default:.5}},(ut=(lt=uni.$uv)==null?void 0:lt.props)==null?void 0:ut.overlay)},Un={name:"uv-overlay",emits:["click"],mixins:[ee,te,Gn],watch:{show(e){}},computed:{overlayStyle(){let e={position:"fixed",top:0,left:0,right:0,zIndex:this.zIndex,bottom:0,"background-color":`rgba(0, 0, 0, ${this.opacity})`};return this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}},methods:{clickHandler(){this.$emit("click")},clear(){}}};function qn(e,i,n,o,r,s){let a=q((0,t.resolveDynamicComponent)("uv-transition"),kt);return(0,t.openBlock)(),(0,t.createBlock)(a,{show:e.show,mode:"fade","custom-class":"uv-overlay",duration:e.duration,"custom-style":s.overlayStyle,onClick:s.clickHandler,onTouchmove:(0,t.withModifiers)(s.clear,["stop","prevent"])},{default:(0,t.withCtx)(()=>[(0,t.renderSlot)(e.$slots,"default")]),_:3},8,["show","duration","custom-style","onClick","onTouchmove"])}var Yn=F(Un,[["render",qn]]),Zn={props:{bgColor:{type:String,default:"transparent"}}},Vn={},Xn={name:"uv-status-bar",mixins:[ee,te,Zn],data(){return{}},computed:{style(){let e={};return e.height=this.$uv.addUnit(this.$uv.sys().statusBarHeight,"px"),this.bgColor&&(this.bgColor.indexOf("gradient")>-1?e.backgroundImage=this.bgColor:e.background=this.bgColor),this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}}};function Jn(e,i,n,o,r,s){return(0,t.openBlock)(),(0,t.createElementBlock)("view",{style:(0,t.normalizeStyle)([s.style]),class:"uv-status-bar",renderWhole:!0},[(0,t.renderSlot)(e.$slots,"default")],4)}var Kn=F(Xn,[["render",Jn],["styles",[Vn]]]),Qn={},eo={name:"uv-safe-bottom",mixins:[ee,te],data(){return{safeAreaBottomHeight:0,isNvue:!1}},computed:{style(){var e,i;let n={};return n.height=this.$uv.addUnit((i=(e=this.$uv.sys())==null?void 0:e.safeAreaInsets)==null?void 0:i.bottom,"px"),this.$uv.deepMerge(n,this.$uv.addStyle(this.customStyle))}},mounted(){this.isNvue=!0}};function to(e,i,n,o,r,s){return(0,t.openBlock)(),(0,t.createElementBlock)("view",{class:(0,t.normalizeClass)(["uv-safe-bottom",[!r.isNvue&&"uv-safe-area-inset-bottom"]]),style:(0,t.normalizeStyle)([s.style]),renderWhole:!0},null,6)}var io=F(eo,[["render",to],["styles",[Qn]]]),no={"uv-popup":{"":{position:"fixed"},".top":{top:0},".left":{top:0},".right":{top:0}},"uv-popup__content":{".uv-popup ":{position:"relative"},".uv-popup .left":{paddingTop:0,flex:1},".uv-popup .right":{paddingTop:0,flex:1}},"uv-popup__content__close":{".uv-popup ":{position:"absolute"}},"uv-popup__content__close--hover":{".uv-popup ":{opacity:.4}},"uv-popup__content__close--top-left":{".uv-popup ":{top:15,left:15}},"uv-popup__content__close--top-right":{".uv-popup ":{top:15,right:15}},"uv-popup__content__close--bottom-left":{".uv-popup ":{bottom:15,left:15}},"uv-popup__content__close--bottom-right":{".uv-popup ":{right:15,bottom:15}},"fixforpc-top":{"":{top:0}}},oo={name:"uv-popup",components:{},mixins:[ee,te],emits:["change","maskClick"],props:E({mode:{type:String,default:"center"},duration:{type:[String,Number],default:300},zIndex:{type:[String,Number],default:10075},bgColor:{type:String,default:"#ffffff"},safeArea:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},overlayOpacity:{type:[Number,String],default:.4},overlayStyle:{type:[Object,String],default:""},safeAreaInsetBottom:{type:Boolean,default:!0},safeAreaInsetTop:{type:Boolean,default:!1},closeable:{type:Boolean,default:!1},closeIconPos:{type:String,default:"top-right"},zoom:{type:Boolean,default:!0},round:{type:[Number,String],default:0}},(dt=(ct=uni.$uv)==null?void 0:ct.props)==null?void 0:dt.popup),watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.mode]](!0)},immediate:!0},showPopup(e){}},data(){return{ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},transitionStyle:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupClass:this.isDesktop?"fixforpc-top":"top",direction:""}},computed:{isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return this.bgColor===""||this.bgColor==="none"||this.$uv.getPx(this.round)>0?"transparent":this.bgColor},contentStyle(){let e={};if(this.bgColor&&(e.backgroundColor=this.bg),this.round){let i=this.$uv.addUnit(this.round),n=this.direction?this.direction:this.mode;e.backgroundColor=this.bgColor,n==="top"?(e.borderBottomLeftRadius=i,e.borderBottomRightRadius=i):n==="bottom"?(e.borderTopLeftRadius=i,e.borderTopRightRadius=i):n==="center"&&(e.borderRadius=i)}return this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}},unmounted(){this.setH5Visible()},created(){this.messageChild=null,this.clearPropagation=!1},methods:{setH5Visible(){},closeMask(){this.maskShow=!1},clear(e){this.clearPropagation=!0},open(e){if(this.showPopup)return;if(e&&["top","center","bottom","left","right","message","dialog","share"].indexOf(e)!==-1?this.direction=e:e=this.mode,!this.config[e])return this.$uv.error(`\u7F3A\u5C11\u7C7B\u578B\uFF1A${e}`);this[this.config[e]](),this.$emit("change",{show:!0,type:e})},close(e){this.showTrans=!1,this.$emit("change",{show:!1,type:this.mode}),clearTimeout(this.timer),this.timer=setTimeout(()=>{this.showPopup=!1},300)},touchstart(){this.clearPropagation=!1},onTap(){if(this.clearPropagation){this.clearPropagation=!1;return}this.$emit("maskClick"),this.closeOnClickOverlay&&this.close()},top(e){this.popupClass=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,left:0,right:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0,this.$nextTick(()=>{this.messageChild&&this.mode==="message"&&this.messageChild.timerClose()}))},bottom(e){this.popupClass="bottom",this.ani=["slide-bottom"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,left:0,right:0,bottom:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)},center(e){this.popupClass="center",this.ani=this.zoom?["zoom-in","fade"]:["fade"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},!e&&(this.showPopup=!0,this.showTrans=!0)},left(e){this.popupClass="left",this.ani=["slide-left"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,left:0,bottom:0,top:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)},right(e){this.popupClass="right",this.ani=["slide-right"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,bottom:0,right:0,top:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)}}};function ro(e,i,n,o,r,s){let a=q((0,t.resolveDynamicComponent)("uv-overlay"),Yn),m=q((0,t.resolveDynamicComponent)("uv-status-bar"),Kn),u=q((0,t.resolveDynamicComponent)("uv-safe-bottom"),io),g=q((0,t.resolveDynamicComponent)("uv-icon"),Be),I=q((0,t.resolveDynamicComponent)("uv-transition"),kt);return r.showPopup?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:(0,t.normalizeClass)(["uv-popup",[r.popupClass,s.isDesktop?"fixforpc-z-index":""]]),style:(0,t.normalizeStyle)([{zIndex:n.zIndex}]),renderWhole:!0},[(0,t.createElementVNode)("view",{onTouchstart:i[2]||(i[2]=(...k)=>s.touchstart&&s.touchstart(...k))},[r.maskShow&&n.overlay?((0,t.openBlock)(),(0,t.createBlock)(a,{key:"1",show:r.showTrans,duration:n.duration,"custom-style":n.overlayStyle,opacity:n.overlayOpacity,zIndex:n.zIndex,onClick:s.onTap},null,8,["show","duration","custom-style","opacity","zIndex","onClick"])):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(I,{key:"2",mode:r.ani,name:"content","custom-style":r.transitionStyle,duration:n.duration,show:r.showTrans,onClick:s.onTap},{default:(0,t.withCtx)(()=>[(0,t.createElementVNode)("view",{class:(0,t.normalizeClass)(["uv-popup__content",[r.popupClass]]),style:(0,t.normalizeStyle)([s.contentStyle]),onClick:i[1]||(i[1]=(...k)=>s.clear&&s.clear(...k))},[n.safeAreaInsetTop?((0,t.openBlock)(),(0,t.createBlock)(m,{key:0})):(0,t.createCommentVNode)("",!0),(0,t.renderSlot)(e.$slots,"default"),n.safeAreaInsetBottom?((0,t.openBlock)(),(0,t.createBlock)(u,{key:1})):(0,t.createCommentVNode)("",!0),n.closeable?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:2,onClick:i[0]||(i[0]=(0,t.withModifiers)((...k)=>s.close&&s.close(...k),["stop"])),class:(0,t.normalizeClass)(["uv-popup__content__close",["uv-popup__content__close--"+n.closeIconPos]]),hoverClass:"uv-popup__content__close--hover",hoverStayTime:"150"},[(0,t.createVNode)(g,{name:"close",color:"#909399",size:"18",bold:""})],2)):(0,t.createCommentVNode)("",!0)],6)]),_:3},8,["mode","custom-style","duration","show","onClick"])],32)],6)):(0,t.createCommentVNode)("",!0)}var so=F(oo,[["render",ro],["styles",[no]]]),ao={"img-one":{"":{"!width":"558rpx","!objectFit":"cover","!height":"618rpx"}},"uv-popup":{"":{position:"relative",display:"flex",flexDirection:"column",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"}},icon:{"":{paddingTop:"64rpx",width:"72rpx"}},"icon-img":{".icon ":{"!width":"72rpx","!height":"72rpx"}}},lo={__name:"index",props:{show:{type:Boolean,default:!0},list:{default:()=>[{pic:""}]}},setup(e,{expose:i}){let n=ae(),o=(0,t.ref)(null),r=(0,t.ref)({background:"transparent",height:"900rpx",display:"flex",justifyContent:"center",flexFlow:"column",alignItems:"center"});Ve(()=>{});let s=()=>{(0,t.nextTick)(()=>{o.value.open()})},a=()=>{o.value.close(),se().popFixed(!1)},m=u=>{se().popFixed(!1),o.value.close(),u.login==1?uni.navigateTo({url:`${u.url}`}):u.login==0&&(C("log","at components/PopupAdvert/index.vue:72","needLogin"),n.isLogin?uni.navigateTo({url:u.url}):uni.navigateTo({url:`/pages/login/index?advertUrl=${u.url}`}))};return i({open:s}),(u,g)=>{let I=(0,t.resolveComponent)("swiper-item"),k=(0,t.resolveComponent)("swiper"),O=q((0,t.resolveDynamicComponent)("uv-popup"),so);return(0,t.openBlock)(),(0,t.createBlock)(O,{ref_key:"popupRef",ref:o,onChange:u.change,class:"uv-popup",customStyle:(0,t.unref)(r),closeOnClickOverlay:!1,overlayOpacity:"0.75"},{default:(0,t.withCtx)(()=>[e.list.length>1?((0,t.openBlock)(),(0,t.createBlock)(k,{key:0,class:"swiper",circular:"","indicator-dots":!0,autoplay:!0,interval:3e3,duration:1e3,"active-class":u.activeClass},{default:(0,t.withCtx)(()=>[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(e.list,(L,P)=>((0,t.openBlock)(),(0,t.createBlock)(I,{key:P,onClick:B=>m(L),class:"swiper-item"},{default:(0,t.withCtx)(()=>[(0,t.createElementVNode)("u-image",{src:L.pic,class:"img"},null,8,["src"])]),_:2},1032,["onClick"]))),128))]),_:1},8,["active-class"])):(0,t.createCommentVNode)("",!0),e.list.length==1?((0,t.openBlock)(),(0,t.createElementBlock)("u-image",{key:1,src:e.list[0].pic,onClick:g[0]||(g[0]=L=>m(e.list[0])),class:"img-one"},null,8,["src"])):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("view",{class:"icon"},[(0,t.createElementVNode)("u-image",{class:"icon-img",src:"https://file.cheryge.com/IMAGE-File/prod/images/activity/close.png",onClick:a,mode:"aspectFill"})])]),_:1},8,["onChange","customStyle"])}}},uo=F(lo,[["styles",[ao]]]),co=e=>uni.$uv.http.get("/charge-map/v1/station/getStationList",e),fo=e=>uni.$uv.http.get("/charge-map/v1/station/getCombStationList",e),po=e=>uni.$uv.http.post("/charge-map/v1/station/regeo",e),ho=(0,t.defineComponent)({__name:"index",setup(e){let i=ae(),{userInfo:n}=(0,Q.storeToRefs)(i),o=Ee(),r=se(),{homeSlideList:s,showHomeSlide:a,popList:m,showPopList:u}=(0,Q.storeToRefs)(r),{locationInfo:g,cateObj:I,userInfoLocation:k}=(0,Q.storeToRefs)(o),O=(0,t.ref)("");(0,t.ref)(null);let L=(0,t.ref)(null),P=(0,t.ref)([]),B=(0,t.ref)([]),Z=(0,t.ref)([]),W=(0,t.ref)(!1),ie=(0,t.ref)(!1),G=(0,t.ref)(!1),Y=(0,t.ref)(!1),H=(0,t.reactive)({pageNum:1,pageSize:100,total:0,pages:0}),N=(0,t.ref)(!0),U=(0,t.ref)(!1),J=(0,t.ref)(null),V=(0,t.ref)(),{windowWidth:A,windowHeight:_}=uni.getSystemInfoSync(),$=(0,t.ref)(.4),X=(0,t.computed)(()=>(C("log","at pages/index/index.nvue:99","windowHeight * m",Math.floor(_*$.value)),$.value==0?Math.floor(_*$.value)+20:Math.floor(_*$.value))),v=Math.floor(_*.85);(0,t.ref)([X.value,v]),(0,t.ref)(0);let c=(0,t.computed)(()=>({width:`${A}px`,flexDirection:"column",bottom:"98rpx"}));Ie(b=>{uni.$on("refresh",()=>{L.value.resetReco()}),uni.$on("show",x=>{C("log","at pages/index/index.nvue:121","show event triggered with data:",x),N.value=!1,U.value=!0,V.value=x,$.value=0}),uni.onNetworkStatusChange(x=>{x.isConnected&&L.value&&P.value.length<=0&&L.value.resetReco()})}),(0,t.onMounted)(()=>{}),Ze(()=>{(0,t.nextTick)(()=>{se().setShowAct(h)})});let d=(0,t.ref)({width:`${A}px`,display:"flex"}),h=()=>{J.value.open()};Je(b=>({title:"\u5947\u745E\u7EFF\u80FD\u5145\u7535\u5C0F\u7A0B\u5E8F"})),Xe(b=>({title:"\u5947\u745E\u7EFF\u80FD\u5145\u7535\u5C0F\u7A0B\u5E8F"})),Me(()=>{uni.$off("show",()=>{}),uni.$off("refresh",()=>{}),uni.$off("updateCommentList",()=>{})});let f=b=>{N.value=!0,U.value=b,$.value=.4},y=b=>j(this,null,function*(){if(W.value)return!1;(b==0||b==2)&&T(),C("log","at pages/index/index.nvue:178","getLocationList");try{W.value=!0,C("log","at pages/index/index.nvue:181","1");let x=E(E({},o.requestParams),H);C("log","at pages/index/index.nvue:186","2"),x.supplierId||delete x.supplierId,(b==0||b==1)&&(x.radius=x.radius<=5e3?5e3:x.radius),C("log","at pages/index/index.nvue:193","3");let l=yield co({params:x});if(C("log","at pages/index/index.nvue:197","4-"),W.value=!1,l.code==200){l.data.list=l.data.list||[];let{list:p,pageNum:S,pageSize:R,total:M,pages:D}=l.data;H.pageNum=S,H.pageSize=R,H.total=M,H.pages=D,b==0?(P.value=p,Z.value=z(),ie.value=!0):b==1?P.value=xn([...P.value,...p]):Z.value=p}else P.value=[]}catch(x){W.value=!1,C("log","at pages/index/index.nvue:220","error-------------------",x)}}),w=()=>j(this,null,function*(){if(G.value)return!1;G.value=!0;try{let b=E({},o.combRequestParams);b.supplierId||delete b.supplierId;let x=yield fo({params:b});G.value=!1,x.code==200&&(B.value=x.data.combContents||[])}catch(b){G.value=!1}}),T=()=>j(this,null,function*(){if(Y.value)return!1;Y.value=!0;try{let b=yield po({lon:g.value.lon,lat:g.value.lat});Y.value=!1,b.code==200&&(O.value=b.data.regeocode.formatted_address)}catch(b){Y.value=!1}L.value.changeShowRefresh(!1)}),z=()=>{let b=[],x=0;return P.value.forEach(l=>{x=yn(g.value.lat,g.value.lon,l.stationLat,l.stationLng),x<=I.value.radius[0]&&b.push(l)}),b};return(b,x)=>{let l=q((0,t.resolveDynamicComponent)("uv-notice-bar"),cn);return(0,t.openBlock)(),(0,t.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,t.createElementVNode)("view",{class:"wrap"},[(0,t.createVNode)((0,t.unref)(On),{ref_key:"mapRef",ref:L,onInit:x[0]||(x[0]=p=>y(0)),onMarkerChange:x[1]||(x[1]=p=>y(1)),onPolyChange:w,onReset:x[2]||(x[2]=p=>y(2)),markers:P.value,points:B.value,loaded:Y.value,hg:(0,t.unref)(X),showStation:(0,t.unref)(N)},null,8,["markers","points","loaded","hg","showStation"]),(0,t.unref)(U)?(0,t.createCommentVNode)("",!0):((0,t.openBlock)(),(0,t.createBlock)((0,t.unref)(Cn),{key:0,address:O.value,list:Z.value,finished:ie.value,onInit:x[3]||(x[3]=p=>y(0))},null,8,["address","list","finished"])),(0,t.unref)(U)?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:1,class:"site",style:(0,t.normalizeStyle)(c.value)},[(0,t.createVNode)((0,t.unref)(St),{item:V.value,showTag:!0,onClose:f},null,8,["item"])],4)):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("view",{class:"advert-card",style:(0,t.normalizeStyle)(d.value)},[(0,t.createVNode)(Nn,{style:{flex:1,marginRight:32},list:(0,t.unref)(s),show:(0,t.unref)(a)},null,8,["list","show"]),(0,t.createVNode)(l,{text:"\u901A\u77E5\uFF1A\u5C0A\u656C\u7684\u7528\u6237\uFF0C\u7531\u4E8E\u8FD1\u671F\u90E8\u5206\u5145\u7535\u573A\u7AD9\u4E0B\u7EBF\u8C03\u6574\uFF0C\u8BF7\u60A8\u6CE8\u610F\u9644\u8FD1\u573A\u7AD9\u53D8\u5316",mode:"closable",bgColor:"#fceddd",color:"#FF7328",class:"weex-container",customStyle:{borderRadius:"16rpx",width:`${(0,t.unref)(A)-32}px`}},null,8,["customStyle"])],4),(0,t.createVNode)(uo,{ref_key:"popupAdvertRef",ref:J,list:(0,t.unref)(m)},null,8,["list"])])])}}}),go={wrap:{"":{width:100,flex:1}},content:{".wrap ":{width:100,flex:1}},site:{"":{position:"fixed",boxSizing:"border-box",bottom:"225rpx",zIndex:1e5,width:100,paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx"}},close:{"":{position:"absolute",top:"16rpx",right:"32rpx",width:"40rpx",height:"40rpx"}},"weex-container":{"":{flex:1}},"advert-card":{"":{position:"absolute",top:"196rpx",left:"32rpx",right:"32rpx",width:100}}},$e=F(ho,[["styles",[go]]]);var Fe=plus.webview.currentWebview();if(Fe){let e=parseInt(Fe.id),i="pages/index/index",n={};try{n=JSON.parse(Fe.__query__)}catch(r){}$e.mpType="page";let o=Vue.createPageApp($e,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:i,__pageQuery:n});o.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...$e.styles||[]])),o.mount("#root")}})();
